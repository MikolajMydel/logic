{"version":3,"sources":["Components/Application/NodeSet/NodeSet.module.scss","Components/Popup/SettingsPopup.module.scss","Components/Popup/ProjectPopup.module.scss","logicalFunctions.js","Components/LogicGate/LogicGate.module.scss","findingFunctions.js","Components/Popup/SaveGatePopup.module.scss","Events/remove.js","Components/DummyGate/DummyGate.js","Events/signalChange.js","Components/Application/NodeSet/Node/StartNode.js","Components/Popup/Popup.js","functions.js","Events/attributeChange.js","Components/Application/NodeSet/NodeSet.js","Components/Application/Application.module.scss","Components/WiresBoard/Wire/Wire.module.scss","Components/LogicGate/Pin/OutputPin.js","Components/LogicGate/Pin/InputPin.js","Components/LogicGate/Pin/Pin.module.scss","Components/Popup/customCheckbox.module.scss","Components/LogicGate/Pin/Pin.js","Events/parentChange.js","Components/Application/NodeSet/Node/Node.js","Components/Application/NodeSet/Node/EndNode.js","Components/Menu/Menu.module.scss","Events/move.js","Components/Popup/Popup.module.scss","Events/merge.js","Components/Application/Application.js","Components/LogicGate/LogicGate.js","Components/ControlPanel/ControlPanel.js","Components/ControlPanel/ControlPanel.module.scss","Components/Popup/ProjectPopup.js","Components/Popup/SettingsPopup.js","Components/Popup/SaveGatePopup.js","Components/WiresBoard/WiresBoard.js","Components/WiresBoard/WiresBoard.module.scss","Components/Menu/Button.js","Components/Menu/Menu.js","images/github.png","Components/WiresBoard/Wire/pathFunctions.js","Components/WiresBoard/Wire/Wire.js","index.js"],"names":["module","exports","AND","inputs","isUndefined","i","length","undefined","NOT","OR","TRUE","FALSE","findParentGate","pin","currentParent","parentElement","classList","contains","findParentNode","className","includes","remove","Event","DummyGate","handleMouseDown","e","button","props","addGate","gateName","function","style","inputCount","outputCount","outputs","inputFields","this","push","outputFields","backgroundColor","color","styles","LogicGate","LogicGateDummy","onMouseDown","LogicGateInputs","LogicGateValue","replace","LogicGateOutputs","React","Component","signalChange","StartNode","state","childPins","value","handleOnMouseDown","setFocusedElement","toggleValue","selfDestruct","fireRemoveEvent","removeNode","setState","render","disconnect","target","cps","oldChildren","pinIndex","indexOf","updatedChildren","splice","val","receiveSignal","ref","current","dispatchEvent","Node","Popup","maxWidth","height","killPopup","contents","onClick","Cover","retrieveFunction","functions","funcs","map","f","eval","output","compareTop","a","b","parseInt","top","slice","makeNewGate","canvas","name","inputArea","childNodes","outputArea","endNodes","sort","DOM","findReact","startNodes","startNodesCopy","startNode","NodeSet","nodes","endNodesCopy","endNode","solve","input","alreadyVisited","parentPin","gate","args","index","func","dom","traverseUp","key","Object","keys","find","startsWith","domFiber","GetCompFiber","fiber","parentFiber","return","type","compFiber","stateNode","checkForCycle","gates","collectGates","visited","Array","recStack","DFSutil","getChildGates","children","c","loop","g","forEach","child","childGates","j","EndNode","attributeChange","createRef","position","renderNameBox","showName","signed","isSigned","folded","isInputArea","NodeSetStart","NodeSetEnd","toggleSignBit","updateValue","toggleNameBox","removeNodeSet","detachEventListeners","onInputChange","handleHandleMouseUp","calculateValue","range","sign","getAttribute","Math","pow","element","targetType","newNodesArray","filter","node","removeEventListener","removeChild","assignIndexes","spreadMoveEvent","move","spreadNameChange","nodeSetName","nodeIndex","setAttribute","setProperty","HTMLElement","toggleFold","animationDuration","delay","interval","setInterval","setTimeout","window","clearInterval","fold","unfold","getNameBox","NodeSetNameBox","onBlur","onChange","onKeyDown","NodeSetNameBoxButtons","Button","ButtonDestruct","ButtonSignBit","showNodeNames","NodeName","addEventListener","appendChild","NodeSetFolded","show","NodeSetHandle","NodeSetHandleSigned","onMouseUp","ButtonFold","OutputPin","setStateClass","stateClass","signal","Pin","InputPin","handleOnClick","newParent","getFocusedElement","changeParentPin","connect","parentChange","drawWire","processOutput","stateClasses","true","PinHighState","false","PinLowState","PinUndefinedState","mount","onMerge","HTMLParentNode","updateAttributes","NodeNameBox","NodeButtonUndefined","NodeButtonTrue","NodeButtonFalse","NodeStart","NodeEnd","NodeHandle","NodeIndex","NodeButton","merge","Application","focusedElement","heldElement","heldElementOffset","popup","board","wires","settings","grid","showGrid","clock","nodesPerClick","isSignedDefault","boardRef","canvasRef","controlRef","getCurrentProjectName","currentProjectName","getGrid","loadProject","projectName","saved","projects","localStorage","getItem","JSON","parse","global","setItem","controlPanelObject","reset","clearCanvas","addNode","document","elementFromPoint","clientX","clientY","pos","offsetTop","stateCopy","assign","sideAreaModification","elementsUnderCursor","elementsFromPoint","elementType","sideAreaElement","interactiveElements","mergeNodes","elements","nodeSets","set","unmountNode","newGate","boardCopy","getClock","reference","el","xo","offsetLeft","scrollLeft","yo","offsetHeight","left","zIndex","grab","firstPin","secondPin","newWiresList","concat","saveGate","newGateObject","stringify","addDummy","adjustSettings","showPopup","clearSideAreas","sideAreas","values","sideArea","preventDefault","recentProject","currentTarget","x","y","offsetWidth","nodeSet","split","comp","focused","gridStyle","backgroundSize","onMouseMove","drop","Canvas","InputArea","item","Board","OutputArea","mountPin","o","from","defaultDummies","addgate","ControlPanel","savedGates","newDummies","savedGate","createDummy","dummies","handleOnWheel","deltaY","onWheel","validateProjectName","test","ProjectPopup","givenName","handleOnChange","alert","deleteProject","project","obj","proj","MainListProject","MainListProjectBody","MainListProjectDelete","isEmpty","Main","MainTitle","MainNewProjectArea","AnimatedLabel","MainNewText","AnimatedLabelInput","placeholder","maxLength","AnimatedLabelLabel","MainNewButton","MainList","MainListEmpty","SettingsPopup","handleOnChangeSlider","setting","handleOnChangeCheckbox","checked","getGridSliderValue","getClockSliderValue","MainSection","MainSectionSubdivision","MainLabel","MainLabelValue","min","max","MainSectionSlider","customCheckbox","container","checkmark","validateGateName","getRandomColor","floor","random","toString","SaveGatePopup","givenColor","handleOnChangeName","handleOnChangeColor","MainSaveArea","MainNameText","MainColor","WiresBoard","action","text","Menu","buttons","href","rel","src","alt","calculatePath","firstPinBoundingClient","secondPinBoundingClient","paddings","firstPinCoordinates","secondPinCoordinates","width","a1","a2","roundings","verticalDistance","horizontalDistance","calculatePathRight","minVerticalDistance","isAbove","middleRoute","abs","calculatePathLeft","WireHighState","WireLowState","WireUndefinedState","Wire","updatePosition","throttledUpdatePosition","removeConnection","updateStateClass","onPinParentChange","hideWire","getStateClass","newPosition","firstPinPosition","getBoundingClientRect","secondPinPosition","throttle","gateBoundingClientRect","firstPinPaddings","bottom","secondPinPaddings","dAttribute","d","ClickableArea","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.11b0b88d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"NodeSet_Button__3W28E\",\"ButtonDestruct\":\"NodeSet_ButtonDestruct__1aKrp\",\"ButtonSignBit\":\"NodeSet_ButtonSignBit__2l2Yd\",\"ButtonFold\":\"NodeSet_ButtonFold__mput1\",\"NodeSet\":\"NodeSet_NodeSet__3YcBf\",\"NodeSetFolded\":\"NodeSet_NodeSetFolded__3u9SF\",\"NodeSetHandle\":\"NodeSet_NodeSetHandle__3Zc02\",\"Node\":\"NodeSet_Node__2Djk6\",\"NodeHandle\":\"NodeSet_NodeHandle__3dlq2\",\"NodeIndex\":\"NodeSet_NodeIndex__1hZEt\",\"NodeNameBox\":\"NodeSet_NodeNameBox__1HEyo\",\"NodeSetNameBox\":\"NodeSet_NodeSetNameBox__3pZxB\",\"NodeSetNameBoxButtons\":\"NodeSet_NodeSetNameBoxButtons__10EJe\",\"NodeSetStart\":\"NodeSet_NodeSetStart__YHsOW\",\"NodeName\":\"NodeSet_NodeName___WRTv\",\"NodeSetEnd\":\"NodeSet_NodeSetEnd__r15iW\",\"NodeSetHandleSigned\":\"NodeSet_NodeSetHandleSigned__1WiEW\",\"NodeStart\":\"NodeSet_NodeStart__o-m1a\",\"NodeButton\":\"NodeSet_NodeButton__2_Xvu\",\"NodeEnd\":\"NodeSet_NodeEnd__23TQb\",\"NodeButtonUndefined\":\"NodeSet_NodeButtonUndefined__2mfnm\",\"NodeButtonTrue\":\"NodeSet_NodeButtonTrue__3_oYP\",\"NodeButtonFalse\":\"NodeSet_NodeButtonFalse__3MAZ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainTitle\":\"SettingsPopup_MainTitle__AbGQ0\",\"MainSection\":\"SettingsPopup_MainSection__cV4Vo\",\"MainSectionSubdivision\":\"SettingsPopup_MainSectionSubdivision__1ePlg\",\"MainSectionSlider\":\"SettingsPopup_MainSectionSlider__3Iq1e\",\"MainLabelValue\":\"SettingsPopup_MainLabelValue__2wClG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AnimatedLabel\":\"ProjectPopup_AnimatedLabel__1OZ1h\",\"AnimatedLabelInput\":\"ProjectPopup_AnimatedLabelInput__410qO\",\"AnimatedLabelLabel\":\"ProjectPopup_AnimatedLabelLabel__1P7ht\",\"Main\":\"ProjectPopup_Main__3-1d1\",\"MainNewProjectArea\":\"ProjectPopup_MainNewProjectArea__yMLIQ\",\"MainTitle\":\"ProjectPopup_MainTitle__3U7vY\",\"MainNewText\":\"ProjectPopup_MainNewText__1SFYZ\",\"MainNewButton\":\"ProjectPopup_MainNewButton__2GPPS\",\"MainList\":\"ProjectPopup_MainList__191xa\",\"MainListEmpty\":\"ProjectPopup_MainListEmpty__dpLaz\",\"MainListProject\":\"ProjectPopup_MainListProject__3HcTX\",\"MainListProjectBody\":\"ProjectPopup_MainListProjectBody__2OszP\",\"MainListProjectDelete\":\"ProjectPopup_MainListProjectDelete__2zh0d\"};","// jezeli jest chociaz jeden undefined - zwroc undefined\nexport const AND = (inputs) => {\n    let isUndefined = false;\n    for (let i = 0; i < inputs.length; i++){\n        if (inputs[i] === false) return [false];\n        if (inputs[i] === undefined) isUndefined = true;\n    }\n    if ( isUndefined ) return [undefined];\n    return [true];\n}\n\nexport const NOT = (inputs) => {\n    if(inputs[0] === undefined) return [undefined];\n    return [!(inputs[0])];\n}\n\n// jezeli jest chociaz jeden true - zwroc true\nexport const OR = (inputs) => {\n    let isUndefined = false;\n    for (let i = 0; i < inputs.length; i++){\n        if ( inputs[i] === true) return [true];\n        if (inputs[i] === undefined) isUndefined = true;\n    }\n    if ( isUndefined ) return [undefined];\n    return [false];\n}\n\nexport const TRUE = () => [true]\nexport const FALSE = () => [false]\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LogicGate\":\"LogicGate_LogicGate__1Cc_p\",\"LogicGateDummy\":\"LogicGate_LogicGateDummy__19ubT\",\"LogicGateInputs\":\"LogicGate_LogicGateInputs__oV9js\",\"LogicGateOutputs\":\"LogicGate_LogicGateOutputs__3uRMQ\",\"LogicGateValue\":\"LogicGate_LogicGateValue__3jkbZ\"};","export function findParentGate(pin) {\n    let currentParent = pin.parentElement;\n    while (!currentParent.classList.contains(\"LogicGate\")) {\n        currentParent = currentParent.parentElement;\n    }\n\n    return currentParent;\n}\n\nexport function findParentNode(pin) {\n    if (!pin) return;\n\n    let currentParent = pin.parentElement;\n    while (!currentParent.className.includes(\"Node\")) {\n        currentParent = currentParent.parentElement;\n    }\n\n    return currentParent;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AnimatedLabel\":\"SaveGatePopup_AnimatedLabel__2VKZM\",\"AnimatedLabelInput\":\"SaveGatePopup_AnimatedLabelInput__3bCSG\",\"AnimatedLabelLabel\":\"SaveGatePopup_AnimatedLabelLabel__1Dffq\",\"MainSaveArea\":\"SaveGatePopup_MainSaveArea__vFBMr\",\"MainNameText\":\"SaveGatePopup_MainNameText__1olof\",\"MainColor\":\"SaveGatePopup_MainColor__hBJRO\",\"MainNewButton\":\"SaveGatePopup_MainNewButton__1Z-Yv\"};","const remove = new Event(\"remove\");\n\nexport default remove;","import React from \"react\";\r\nimport OutputPin from \"../LogicGate/Pin/OutputPin\";\r\nimport InputPin from \"../LogicGate/Pin/InputPin\";\r\nimport styles from \"../LogicGate/LogicGate.module.scss\";\r\n\r\nclass DummyGate extends React.Component {\r\n    handleMouseDown = (e) => {\r\n        if(e.button === 0) {\r\n            this.props.addGate(e, {\r\n                gateName: this.props.gateName,\r\n                function: this.props.function,\r\n                style: this.style,\r\n                inputCount: this.props.inputs,\r\n                outputCount: this.props.outputs,\r\n            })\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let inputFields = [];\r\n        for (let i = 0; i < this.props.inputs; i++){\r\n            inputFields.push((\r\n                <InputPin />\r\n            ));\r\n        }\r\n        let outputFields = [];\r\n        for (let i = 0; i < this.props.outputs; i++){\r\n            outputFields.push((\r\n                <OutputPin />\r\n            ));\r\n        }\r\n        const style = {backgroundColor: this.props.color}\r\n\r\n        return (\r\n            <div className={`${styles.LogicGate} ${styles.LogicGateDummy}`}\r\n                style={style}\r\n                onMouseDown={(e) => this.props.addGate(e, {\r\n                    gateName: this.props.gateName,\r\n                    function: this.props.function,\r\n                    style: style,\r\n                    inputCount: this.props.inputs,\r\n                    outputCount: this.props.outputs,\r\n            })}>\r\n                <div className={styles.LogicGateInputs}>\r\n                    { inputFields }\r\n                </div>\r\n                <h5 className={styles.LogicGateValue}> { this.props.gateName.replace('f_', '') } </h5>\r\n                <div className={styles.LogicGateOutputs}>\r\n                    { outputFields }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DummyGate;\r\n","const signalChange = new Event(\"signalChange\", {'bubbles': true});\n\nexport default signalChange;","import Node from './Node';\r\nimport signalChange from '../../../../Events/signalChange';\r\nclass StartNode extends Node {\r\n    state = {\r\n        ...this.state,\r\n        childPins: [],\r\n        value: false,\r\n    }\r\n\r\n    // przylaczanie innego pina jako dziecko\r\n    connect(target) {\r\n        let cps = this.state.childPins;\r\n        cps.push(target);\r\n        this.setState({'childPins': cps});\r\n    }\r\n\r\n    disconnect(target) {\r\n        const oldChildren = this.state.childPins;\r\n        const pinIndex = oldChildren.indexOf(target);\r\n\r\n        // tworzymy kopie tablicy dzieci (aby uniknac bezposredniej zmiany stanu)\r\n        let updatedChildren = [...oldChildren];\r\n        updatedChildren.splice (pinIndex, 1);\r\n\r\n        // ustawiamy nowa tablice dzieci jako stan\r\n        this.setState({\"childPins\": updatedChildren });\r\n    }\r\n\r\n    handleOnMouseDown = (e) => {\r\n        if(e.button === 0) // Lewy PM\r\n            this.props.setFocusedElement(this);\r\n        else if (e.button === 1) // rodkowy PM\r\n            this.toggleValue();\r\n    }\r\n\r\n    selfDestruct = () => {\r\n        this.fireRemoveEvent();\r\n        this.removeNode();\r\n    }\r\n\r\n    removeNode = () => {\r\n        this.setState({render: false});\r\n        for(const child of this.state.childPins){\r\n            child.disconnect(this);\r\n        }\r\n    }\r\n\r\n    toggleValue() {\r\n        const val = !(this.state.value);\r\n        this.setState({value: val}, function() {\r\n            for (let i = 0; i < this.state.childPins.length; i++) {\r\n                this.state.childPins[i].receiveSignal(val);\r\n            }\r\n\r\n            this.state.ref.current.dispatchEvent(signalChange);\r\n        });\r\n    }\r\n}\r\n\r\nexport default StartNode;\r\n","import React from 'react';\nimport styles from './Popup.module.scss';\n\nclass Popup extends React.Component {\n    style = {\n        maxWidth: '400px',\n        height: '400px',\n    }\n\n    selfDestruct = () => {\n        this.props.killPopup();\n    }\n\n    render(contents){\n        return(\n            <>\n                <div\n                    className={styles.Popup}\n                    style={this.style}\n                >\n                    <strong onClick={this.selfDestruct}>X</strong>\n                    {contents}\n                </div>\n                <div className={styles.Cover} onClick={this.selfDestruct}>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default Popup;\n","import EndNode from \"./Components/Application/NodeSet/Node/EndNode\";\nimport StartNode from \"./Components/Application/NodeSet/Node/StartNode\";\nimport NodeSet from \"./Components/Application/NodeSet/NodeSet\";\n\n//zwraca gotow funkcj na podstawie tablicy stringw z funkcjami\nexport function retrieveFunction(functions){\n    let funcs = functions.map(f => eval(f));\n    return (inputs) => {\n        let output = [];\n        for(let i=0; i<funcs.length; i++){\n            output.push(funcs[i](inputs));\n        }\n        return output;\n    }\n}\nconst compareTop = (a, b) => parseInt(a.style.top.slice(0,-2)) - parseInt(b.style.top.slice(0,-2));\n\n// zapisuje customow funkcj w formie stringa dla nowej bramki na podstawie\n// podanych obiektw endNode\nexport function makeNewGate(canvas, name, color) {\n    const inputArea = canvas.childNodes[0];\n    const outputArea = canvas.childNodes[2];\n\n    // posortowane od najwyej pooonego do najniej\n    let endNodes  = [...outputArea.childNodes].sort(compareTop).map(DOM => findReact(DOM));\n    let startNodes = [...inputArea.childNodes].sort(compareTop).map(DOM => findReact(DOM));\n\n    // dodawanie nodeow znajdujacych sie w nodesetach\n    const startNodesCopy = [];\n    for (let startNode of startNodes){\n        if (startNode instanceof NodeSet){\n            startNodesCopy.push(...startNode.state.nodes.map(DOM => findReact(DOM)));\n        } else\n            startNodesCopy.push(startNode);\n    }\n\n    const endNodesCopy = [];\n    for (let endNode of endNodes){\n        if (endNode instanceof NodeSet){\n            endNodesCopy.push(...endNode.state.nodes.map(DOM => findReact(DOM)))\n        } else\n            endNodesCopy.push(endNode);\n    }\n\n    startNodes = startNodesCopy;\n    endNodes = endNodesCopy;\n\n    const solve = (input, alreadyVisited) => {\n        const output = input.state.parentPin;\n        if (!output || (alreadyVisited[output] && alreadyVisited[output].indexOf(input) !== -1)) // by ju sprawdzany\n            // to jest do poprawy\n            return \"undefined\";\n        if(output instanceof StartNode){\n            for(let i=0; i<startNodes.length; i++){\n                if(output === startNodes[i])\n                    return \"i[\" + i + \"]\";\n            }\n        } else {\n            if(!alreadyVisited[output])\n                alreadyVisited[output] = [input];\n            else\n                alreadyVisited[output].push(input);\n\n            const gate = output.gate;\n            let args = [];\n            for(const input of gate.inputs){\n                const par = input.state.parentPin;\n                if(par){\n                    args.push(solve(input, alreadyVisited));\n                } else // input bramki nie jest do niczego podpity\n                    args.push(\"undefined\")\n            }\n            return (\n                gate.name + \"([\" + args + \"])[\" + output.index + \"]\"\n            );\n        }\n    }\n\n    let output = [];\n    for(let endNode of endNodes) {\n        let func = \"(i) => \" + solve(endNode, []);\n        output.push(func);\n    }\n    return {\n        name: name,\n        inputs: startNodes.length,\n        outputs: endNodes.length,\n        functions: output,\n        color: color,\n    };\n}\n\n// https://stackoverflow.com/questions/29321742/react-getting-a-component-from-a-dom-element-for-debugging/39165137#39165137\n// znajd komponent React na podstawie elementu DOM\nexport function findReact(dom, traverseUp=0) {\n    const key = Object.keys(dom).find(key => key.startsWith(\"__reactFiber$\"));\n    const domFiber = dom[key];\n    if (domFiber == null) return null;\n\n    const GetCompFiber = fiber=>{\n        //return fiber._debugOwner; // this also works, but is __DEV__ only\n        let parentFiber = fiber.return;\n        while (typeof parentFiber.type == \"string\") {\n            parentFiber = parentFiber.return;\n        }\n        return parentFiber;\n    };\n    let compFiber = GetCompFiber(domFiber);\n    for (let i = 0; i < traverseUp; i++) {\n        compFiber = GetCompFiber(compFiber);\n    }\n    return compFiber.stateNode;\n}\n\nexport function checkForCycle(gate) {\n    // algorytm DFS\n    // https://www.geeksforgeeks.org/depth-first-search-or-dfs-for-a-graph\n    const gates = collectGates(gate);\n    let visited  = new Array(gates.length);\n    let recStack = new Array(gates.length);\n    for(let i=0;i<gates.length;i++) {\n        visited[i]  = false;\n        recStack[i] = false;\n    }\n\n    for (let i = 0; i < gates.length; i++)\n        if (DFSutil(i, visited, recStack, getChildGates(gates[i]))){\n            return true;\n        }\n    return false;\n}\nfunction DFSutil(i, visited, recStack, children) {\n    if (recStack[i])\n        return true;\n\n    if (visited[i])\n        return false;\n\n    visited[i] = true;\n    recStack[i] = true;\n\n    for (let c=0;c< children.length;c++)\n        if (DFSutil(c, visited, recStack, children)){\n            return true;\n        }\n\n    recStack[i] = false;\n\n    return false;\n}\n// zbierz wszystkie bramki poniej podanej\nfunction collectGates(gate) {\n    let gates = [gate];\n    const loop = (g) => {\n        getChildGates(g).forEach((child) => {\n            // bramki nie ma jeszcze na licie\n            if(!gates.includes(child)) {\n                gates.push(child);\n                loop(child);\n            }\n        });\n    }\n    loop(gate);\n\n    return gates;\n}\n// zbierz bramki bezporednio podczone do podanej jako dzieci\nfunction getChildGates(gate) {\n    let childGates = [];\n    for (let i = 0; i < gate.outputs.length; i++) {\n        // dodaje wszystkie piny, ktore pobieraja sygnal z aktualnej bramki\n        const childPins = gate.outputs[i].state.childPins;\n        for (let j = 0; j < childPins.length; j++){\n            // pomijamy EndNody\n            if (childPins[j] instanceof EndNode) continue;\n            childGates.push( childPins[j].gate );\n        }\n    }\n    return childGates;\n}\n\n","const attributeChange = new Event(\"attributeChange\");\n\nexport default attributeChange;","import React from \"react\";\nimport remove from \"../../../Events/remove\";\nimport styles from './NodeSet.module.scss';\nimport attributeChange from \"../../../Events/attributeChange\";\nimport { findParentNode } from \"../../../findingFunctions\";\nclass NodeSet extends React.Component {\n    state = {\n        ref: React.createRef(),\n        render: true,\n        position: this.props.position,\n\n        name: \"\",\n        renderNameBox: false,\n        showName: true,\n\n        nodes: this.props.nodes,\n        signed: this.props.isSigned,\n\n        folded: false,\n    }\n\n    style = this.props.isInputArea ? styles.NodeSetStart : styles.NodeSetEnd;\n\n    toggleSignBit = () => {\n        this.setState({\n        \"signed\": !this.state.signed,\n        }, this.updateValue);\n    };\n\n    toggleNameBox = () => {\n        this.setState({renderNameBox: !this.state.renderNameBox})\n    }\n\n    selfDestruct = () => {\n        for (let node of this.state.nodes){\n            node.dispatchEvent(remove);\n        }\n\n        this.removeNodeSet();\n    }\n\n    removeNodeSet = () => {\n        this.detachEventListeners();\n        this.setState({\n            'render': false,\n        });\n    }\n\n    onInputChange = (e) => {\n        this.setState({\n            name: e.target.value\n        });\n    }\n\n    handleHandleMouseUp = (e) => {\n        if(e.button === 2) { // tylko PPM\n            this.toggleNameBox();\n        }\n    }\n\n    calculateValue = () => {\n        const nodes = this.state.nodes;\n        let value = 0, range = 0, sign = 1;\n        if (this.state.signed) {\n            // aby najstarszy bit zostal pominiety przy obliczaniu wartosci\n            range = 1;\n            // pierwszy bit (najstarszy) decyduje o znaku\n            sign = (nodes[0].getAttribute(\"value\") === \"true\" ? -1 : 1);\n        }\n\n        for (let i = nodes.length - 1; i >= range; i--){\n            if (nodes[i].getAttribute(\"value\") === \"true\") value += Math.pow(2, nodes.length - i - 1);\n        }\n\n        return value * sign;\n    }\n\n    updateValue = () => this.setState({\n        'value': this.calculateValue(),\n    });\n\n    handleMouseDown = (e) => {\n        if (e.button === 2) {\n            this.removeNode(e.target);\n        }\n    }\n\n    removeNode = (element) => {\n        const targetType = element.getAttribute(\"data-element\");\n        if (targetType === \"Node\"){\n            element.dispatchEvent(remove);\n\n            const newNodesArray = this.state.nodes.filter(\n                node => node !== element\n            );\n\n            element.removeEventListener(\"mousedown\", this.handleMouseDown);\n            if (this.state.ref.current) this.state.ref.current.removeChild(element);\n\n            if (newNodesArray.length === 0 && this.state.render) this.selfDestruct();\n            else this.setState({\n                \"nodes\": newNodesArray\n            });\n\n        } else {\n            // jezeli zostal klikniety przycisk, to rozprzestrzen event na rodzica\n            if (targetType === \"NodeButton\") this.removeNode (findParentNode(element));\n        }\n\n        this.assignIndexes();\n    };\n\n    spreadMoveEvent = () => {\n        const move = new Event(\"move\");\n        for (let node of this.state.nodes){\n            node.dispatchEvent(move);\n        }\n    }\n\n    spreadNameChange = () => {\n        const nodeSetName = this.state.name;\n\n        for (let node of this.state.nodes){\n            const nodeIndex = node.getAttribute(\"data-index\");\n            node.setAttribute(\"data-name\", `${nodeSetName}_${nodeIndex}`);\n            node.dispatchEvent(attributeChange);\n        }\n    }\n\n    assignIndexes = () => {\n        const children = this.state.nodes;\n        for (let i = 0; i < children.length; i++){\n            children[i].setAttribute(\"data-index\", children.length - i - 1);\n            children[i].dispatchEvent(attributeChange);\n\n            // wartosc potrzebna dla css do skladania nodesetu\n            children[i].style.setProperty(\"--node-number\", i + 1);\n        };\n\n        this.spreadNameChange();\n    }\n\n    componentDidMount(){\n        const HTMLElement = this.state.ref.current;\n        HTMLElement.addEventListener('signalChange', this.updateValue);\n        HTMLElement.addEventListener('merge', this.removeNodeSet);\n        HTMLElement.addEventListener('move', this.spreadMoveEvent);\n        HTMLElement.addEventListener('remove', this.removeNodeSet);\n\n        const children = this.state.nodes;\n        for (let i = 0; i < children.length; i++){\n            children[i].style.top = \"\";\n            children[i].addEventListener(\"mousedown\", this.handleMouseDown);\n\n            HTMLElement.appendChild(children[i]);\n        };\n\n        this.assignIndexes();\n\n        setTimeout(this.spreadMoveEvent, 50);\n\n        this.updateValue();\n    }\n\n    detachEventListeners = () => {\n        const HTMLElement = this.state.ref.current;\n        HTMLElement.removeEventListener('signalChange', this.updateValue);\n        HTMLElement.removeEventListener('merge', this.removeNodeSet);\n        HTMLElement.removeEventListener('move', this.spreadMoveEvent);\n        HTMLElement.removeEventListener('remove', this.removeNodeSet);\n    }\n\n    toggleFold = () => this.setState({\n        \"folded\": !this.state.folded,\n    }, () => {\n        const nodes = this.state.nodes;\n        let animationDuration = 0;\n        // 0.2s * numer node'a dla kazdego node'a\n        for (let i = 0; i < nodes.length; i++){\n            animationDuration += (i + 1) * 200;\n        }\n\n        const delay = animationDuration / 60;\n        const interval = setInterval(this.spreadMoveEvent, delay);\n\n        setTimeout(() => {\n            window.clearInterval(interval)\n        }, animationDuration);\n    })\n\n    fold = () => this.setState({\n        \"folded\": true,\n    });\n\n    unfold = () => this.setState({\n        \"folded\": false,\n    });\n\n    getNameBox = () => {\n        if(this.state.renderNameBox)\n            return (\n                <div\n                        className={styles.NodeSetNameBox}\n                >\n                    <input\n                        onBlur={this.spreadNameChange}\n                        onChange={this.onInputChange}\n                        value={this.state.name}\n                        onKeyDown={\n                            (e) => {\n                                if(e.key === \"Enter\"){\n                                    this.toggleNameBox();\n                                    this.spreadNameChange();\n                                };\n                            }\n                        }\n                    />\n                    <div className={styles.NodeSetNameBoxButtons}>\n                        <button className={`${styles.Button} ${styles.ButtonDestruct}`} onClick={this.selfDestruct}>usu</button>\n                        <button className={`${styles.Button} ${styles.ButtonSignBit}`} onClick={this.toggleSignBit} >bit znaku</button>\n                    </div>\n                </div>\n            )\n        else if (this.props.showNodeNames && this.state.showName && this.state.name !== '')\n            return (\n                <div\n                    className={styles.NodeName}\n                >\n                    <p>{this.state.name}</p>\n                </div>\n            );\n        else\n            return '';\n    }\n\n    render(){\n        if (!this.state.render) return null;\n\n        return (\n            <div\n                ref={this.state.ref}\n                style={{top: this.state.position}}\n                className={`${styles.NodeSet} ${this.style} ${this.state.folded ? styles.NodeSetFolded : \"\"}`}\n                onClick={this.show}\n                data-element=\"NodeSet\"\n                data-signed={this.state.signed}\n            >\n\n                <div\n                    className={`${styles.NodeSetHandle} ${this.state.signed ? styles.NodeSetHandleSigned : ''}`}\n                    data-element=\"NodeSetHandle\"\n                    onMouseUp={this.handleHandleMouseUp}\n                >\n                    {this.state.value}\n                    {this.getNameBox()}\n                    <button\n                        className={styles.ButtonFold}\n                        data-element=\"NodeSetFoldButton\"\n                        onClick={this.toggleFold}\n                    >\n                        {(this.state.folded && 'v') || '^'}\n                    </button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default NodeSet;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Application\":\"Application_Application__2wRsQ\",\"Canvas\":\"Application_Canvas__35aVF\",\"Board\":\"Application_Board__sFgm3\",\"InputArea\":\"Application_InputArea__3XmUM\",\"OutputArea\":\"Application_OutputArea__flxHC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wire\":\"Wire_Wire__14Zuc\",\"WireUndefinedState\":\"Wire_WireUndefinedState__WPt42\",\"WireHighState\":\"Wire_WireHighState__14PU4\",\"WireLowState\":\"Wire_WireLowState__1Ox6P\",\"ClickableArea\":\"Wire_ClickableArea__3OPA6\"};","import React from \"react\";\nimport Pin from \"./Pin\";\n\nimport signalChange from \"../../../Events/signalChange\";\nclass OutputPin extends Pin {\n    constructor(props) {\n        super(props);\n        this.state = {\n            childPins: [],\n            value: undefined,\n            ref: React.createRef(),\n        };\n\n        this.setStateClass();\n    }\n\n    // przylaczanie innego pina jako dziecko\n    connect(target) {\n        let cps = this.state.childPins;\n        cps.push(target);\n        this.setState({ childPins: cps });\n\n        if (!this.state.stateClass) this.setStateClass();\n    }\n\n    disconnect(target) {\n        const oldChildren = this.state.childPins;\n        const pinIndex = oldChildren.indexOf(target);\n\n        // tworzymy kopie tablicy dzieci (aby uniknac bezposredniej zmiany stanu)\n        let updatedChildren = [...oldChildren];\n        updatedChildren.splice(pinIndex, 1);\n\n        // ustawiamy nowa tablice dzieci jako stan\n        this.setState({ childPins: updatedChildren });\n    }\n\n    receiveSignal(signal) {\n        this.setState({ value: signal }, function () {\n            this.state.ref.current.dispatchEvent(signalChange);\n            this.setStateClass();\n\n            for (let i = 0; i < this.state.childPins.length; i++) {\n                this.state.childPins[i].receiveSignal(signal);\n            }\n        });\n    }\n\n    render() {\n        return (\n            <button\n                ref={this.state.ref}\n                className={`\n        ${this.style.Pin}\n        ${this.state.stateClass}\n        `}\n                onClick={() => this.props.setFocusedElement(this)}\n            >\n                {\" \"}\n            </button>\n        );\n    }\n}\n\nexport default OutputPin;\n","import React from \"react\";\nimport parentChange from \"../../../Events/parentChange\";\nimport Pin from \"./Pin\";\n\nclass InputPin extends Pin {\n    constructor(props) {\n        super(props);\n\n        this.setStateClass();\n    }\n\n    state = {\n        parentPin: undefined,\n        value: undefined,\n        ref: React.createRef(),\n    }\n\n    handleOnClick = () => {\n        const newParent = this.props.getFocusedElement();\n        if (newParent) this.changeParentPin(newParent);\n    };\n\n    disconnect() {\n        if (!this.state.parentPin) return;\n        this.state.parentPin.disconnect(this);\n        this.setState({\n            parentPin: undefined,\n            stateClass: \"\",\n        });\n        this.receiveSignal(undefined);\n    }\n\n    // zmie do jakiego outputa podczony jest ten input\n    changeParentPin(newParent) {\n        if (this.state.parentPin !== newParent) {\n            if (this.state.parentPin) this.state.parentPin.disconnect(this);\n            newParent.connect(this);\n            this.setState(\n                {\n                    parentPin: newParent,\n                },\n                () => this.state.ref.current.dispatchEvent(parentChange)\n            );\n\n            this.receiveSignal(newParent.state.value);\n            this.props.drawWire(newParent, this);\n        }\n    }\n\n    receiveSignal(signal) {\n        // zapobiega ptli przy okazji\n        if (signal === this.state.value)\n            return;\n\n        this.setState({value: signal}, function() {\n                this.setStateClass();\n                this.gate.processOutput();\n            }\n        );\n    }\n\n    render() {\n        return (\n            <button\n                ref={this.state.ref}\n                className={`\n                    ${this.style.Pin}\n                    ${this.state.stateClass}\n                `}\n                onClick={this.handleOnClick}\n            ></button>\n        );\n    }\n}\n\nexport default InputPin;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pin\":\"Pin_Pin__2O3LC\",\"PinUndefinedState\":\"Pin_PinUndefinedState__2WxX8\",\"PinHighState\":\"Pin_PinHighState__38LMy\",\"PinLowState\":\"Pin_PinLowState__2-FI9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"customCheckbox_container__1_mj_\",\"checkmark\":\"customCheckbox_checkmark__L4r1R\"};","import React from \"react\";\nimport styles from \"./Pin.module.scss\";\n\nconst stateClasses = {\n    true: styles.PinHighState,\n    false: styles.PinLowState,\n    undefined: styles.PinUndefinedState,\n};\nclass Pin extends React.Component {\n    constructor(props) {\n        super();\n        this.style = styles;\n        this.index = props.index;\n        this.gate = props.gate;\n    }\n\n    setStateClass = () => {\n        this.setState({\n            stateClass: stateClasses[this.state.value],\n        });\n    };\n\n    componentDidMount() {\n        if (this.props.mount) this.props.mount(this); // dodaj siebie do tablicy pinw swojej bramki\n    }\n}\n\nexport default Pin;\n","const parentChange = new Event(\"parentChange\");\n\nexport default parentChange;","import React from 'react';\r\nimport styles from '../NodeSet.module.scss';\r\nimport remove from '../../../../Events/remove';\r\nimport StartNode from './StartNode';\r\nimport { findParentNode } from '../../../../findingFunctions';\r\nclass Node extends React.Component {\r\n    state = {\r\n        name: \"\",\r\n        render: true,\r\n        renderNameBox: false,\r\n        showName: true,\r\n        ref: React.createRef(),\r\n        value: undefined,\r\n\r\n        index: undefined,\r\n    }\r\n\r\n    get value() { return this.state.value }\r\n    get name() { return this.state.name }\r\n\r\n    componentDidMount(){\r\n        const HTMLElement = findParentNode(this.state.ref.current);\r\n        // event uruchamiany z poziomu NodeSet\r\n        HTMLElement.addEventListener(\"attributeChange\", this.updateAttributes);\r\n        HTMLElement.addEventListener(\"remove\", this.removeNode);\r\n        HTMLElement.addEventListener(\"merge\", this.onMerge);\r\n    }\r\n\r\n    toggleNameBox = () => {\r\n        this.setState({renderNameBox: !this.state.renderNameBox})\r\n    }\r\n\r\n    handleHandleMouseUp = (e) => {\r\n        if(e.button === 2) { // tylko PPM\r\n            this.toggleNameBox();\r\n        }\r\n    }\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({\r\n            name: e.target.value\r\n        });\r\n    }\r\n\r\n    onMerge = () => {\r\n        findParentNode(this.state.ref.current).removeEventListener(\"remove\", this.removeNode);\r\n        this.setState({showName: false});\r\n    }\r\n\r\n    fireRemoveEvent = () => {\r\n        const HTMLParentNode = findParentNode(this.state.ref.current);\r\n        HTMLParentNode.removeEventListener(\"attributeChange\", this.updateAttributes);\r\n        HTMLParentNode.removeEventListener(\"remove\", this.removeNode);\r\n        HTMLParentNode.removeEventListener(\"merge\", this.onMerge);\r\n        // event sygnalizujacy usuniecie polaczenia dla Wire\r\n        HTMLParentNode.dispatchEvent(remove);\r\n    }\r\n\r\n    // funkcja pozwalajaca na zmiane stanu poprzez zmiane\r\n    // atrybutu elementu HTML (z poziomu NodeSetu)\r\n    // jest uruchamiana podczas eventu attributeChange\r\n    updateAttributes = () => {\r\n        const HTMLParentNode = findParentNode(this.state.ref.current);\r\n        this.setState({\r\n            \"index\": HTMLParentNode.getAttribute(\"data-index\"),\r\n            \"name\": HTMLParentNode.getAttribute(\"data-name\"),\r\n        });\r\n    }\r\n\r\n    getNameBox = () => {\r\n        if(this.state.renderNameBox)\r\n            return (\r\n                <div\r\n                    className={styles.NodeNameBox}\r\n                >\r\n                    <input\r\n                        onChange={this.onInputChange}\r\n                        value={this.name}\r\n                        onKeyDown={\r\n                            (e) => {if(e.key === \"Enter\") this.toggleNameBox()}\r\n                        }\r\n                    />\r\n                    <button className={`${styles.Button} ${styles.ButtonDestruct}`}\r\n                    onClick={this.selfDestruct}>usu</button>\r\n                </div>\r\n            );\r\n        else if(this.props.showNodeNames && this.state.showName && this.state.name !== '')\r\n            return (\r\n                <div\r\n                    className={styles.NodeName}\r\n                >\r\n                    <p>{this.state.name}</p>\r\n                </div>\r\n            );\r\n        else\r\n            return '';\r\n    }\r\n\r\n    render() {\r\n        if(this.state.render === false) return null;\r\n        let style;\r\n        const value = this.state.value;\r\n\r\n        // zwr styl na podstawie wartosci\r\n        if ( value === undefined )\r\n            style = styles.NodeButtonUndefined;\r\n        else if ( value )\r\n            style = styles.NodeButtonTrue;\r\n        else\r\n            style = styles.NodeButtonFalse;\r\n\r\n        const position = this.props.position + 'px';\r\n\r\n        return (\r\n            <div\r\n                className={`${styles.Node} ${this instanceof StartNode ? styles.NodeStart : styles.NodeEnd }`}\r\n                style={{ top: position }}\r\n                value={this.state.value}\r\n                data-element=\"Node\"\r\n            >\r\n                <div\r\n                    className={styles.NodeHandle}\r\n                    onMouseUp={this.handleHandleMouseUp}\r\n                    data-element=\"NodeHandle\"\r\n                ></div>\r\n                <div\r\n                    className={styles.NodeIndex}\r\n                >\r\n                    {this.state.index}\r\n                </div>\r\n\r\n                <div\r\n                    ref={this.state.ref}\r\n                    className={ `${styles.NodeButton} ${style}` }\r\n                    onMouseDown={ this.handleOnMouseDown }\r\n                    data-element=\"NodeButton\"\r\n                ></div>\r\n                {this.getNameBox()}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Node;\r\n","import parentChange from \"../../../../Events/parentChange\";\nimport signalChange from \"../../../../Events/signalChange\";\nimport Node from \"./Node\";\n\nclass EndNode extends Node {\n  state = {\n    ...this.state,\n    parentPin: undefined,\n    value: undefined,\n  };\n\n  handleOnMouseDown = (e) => {\n    if (e.button === 0) {\n      const newParent = this.props.getFocusedElement();\n      if (newParent) this.changeParentPin(newParent);\n    }\n  };\n\n  disconnect = () => this.changeParentPin(undefined);\n\n  changeParentPin = (newParent) => {\n    if (newParent !== this.state.parentPin) {\n      if (this.state.parentPin) this.state.parentPin.disconnect(this);\n\n      this.setState(\n        { parentPin: newParent },\n        // funkcja powiadamiajaca przewod o usunieciu polaczenia\n        () => {\n          if( this.state.ref.current )\n            this.state.ref.current.dispatchEvent(parentChange);\n        }\n      );\n\n      if (newParent) {\n        newParent.connect(this);\n        this.props.drawWire(newParent, this);\n        this.receiveSignal(newParent.state.value);\n      } else this.receiveSignal(undefined);\n    }\n  };\n\n  selfDestruct = () => {\n    this.fireRemoveEvent();\n    this.removeNode();\n  }\n\n  removeNode = () => {\n    this.disconnect();\n    this.setState({render: false});\n  }\n\n  receiveSignal(signal) {\n    this.setState({ value: signal },\n      () => {\n        if (this.state.render && this.state.ref.current)\n          this.state.ref.current.dispatchEvent(signalChange);\n      }\n    );\n\n  }\n}\n\nexport default EndNode;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__2X7bN\",\"Button\":\"Menu_Button__8Dt-Z\"};","const move = new Event(\"move\");\n\nexport default move;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Cover\":\"Popup_Cover__t0waS\",\"show-popup-cover\":\"Popup_show-popup-cover__1__u-\",\"Popup\":\"Popup_Popup__3fAZZ\",\"show-popup\":\"Popup_show-popup__3Zq-o\"};","const merge = new Event(\"merge\");\n\nexport default merge;","import React from \"react\";\r\nimport styles from './Application.module.scss';\r\nimport LogicGate from \"../LogicGate/LogicGate\";\r\nimport StartNode from \"./NodeSet/Node/StartNode\";\r\nimport EndNode from \"./NodeSet/Node/EndNode\";\r\nimport ControlPanel from \"../ControlPanel/ControlPanel\";\r\nimport Menu from \"../Menu/Menu\";\r\nimport ProjectPopup from \"../Popup/ProjectPopup\";\r\nimport SettingsPopup from \"../Popup/SettingsPopup\";\r\nimport SaveGatePopup from \"../Popup/SaveGatePopup\";\r\nimport {findReact, makeNewGate} from \"../../functions\";\r\nimport {AND, NOT, OR, FALSE, TRUE} from \"../../logicalFunctions\";\r\nimport Wire from '../WiresBoard/Wire/Wire.js';\r\nimport WiresBoard from \"../WiresBoard/WiresBoard\";\r\nimport remove from \"../../Events/remove\";\r\nimport move from \"../../Events/move\";\r\nimport NodeSet from \"./NodeSet/NodeSet\";\r\nimport merge from \"../../Events/merge\";\r\n\r\nclass Application extends React.Component {\r\n    state = {\r\n        focusedElement: undefined,    // aktualnie wybrane wyjcie\r\n        heldElement: undefined,       // aktualnie trzymana bramka\r\n        heldElementOffset: [0, 0],    // rnica koordynatw x i y, midzy punktem chwytu a faktycznym pooeniem bloku\r\n        popup: null,\r\n\r\n        inputs: [],\r\n        board: [],\r\n        outputs: [],\r\n\r\n        wires: [],\r\n        settings: {\r\n            grid: 40, // ile pikseli na siatk\r\n            showGrid: true, // czy siatka ma byc widoczna\r\n            showNodeNames: true, // czy pokazywa nazwy nodw TODO\r\n            clock: 100, // z jakim interwaem odwieane stany bramek\r\n            nodesPerClick: 1, // ilosc node'ow dodawanych z kazdym kliknieciem\r\n            isSignedDefault: false, // czy nowe nodesety maja postac zm\r\n        }\r\n    }\r\n\r\n    boardRef   = React.createRef()\r\n    canvasRef  = React.createRef()\r\n    controlRef = React.createRef()\r\n    controlPanelObject\r\n\r\n    // funkcja zmieniajaca aktualnie wybrane wyjscie - pozwala na uzycie kliknietego wyjscia na wejscie bramki logicznej\r\n    setFocusedElement = ( element ) => {\r\n        this.setState ({'focusedElement': element});\r\n    }\r\n\r\n    // funkcja zwracajaca aktualnie wybrane wyjscie - umozliwia kliknietej bramce logicznej zmiane wejscia na wczesniej klikniete wyjscie\r\n    getFocusedElement = () => this.state.focusedElement;\r\n\r\n    getCurrentProjectName = () => this.currentProjectName;\r\n\r\n    getGrid = () => this.state.grid;\r\n\r\n    // tylko raz po wyrenderowaniu tego komponentu\r\n    componentDidMount(){\r\n        global.NOT   = NOT;\r\n        global.AND   = AND;\r\n        global.OR    = OR;\r\n        global.TRUE  = TRUE;\r\n        global.FALSE = FALSE;\r\n\r\n        // bez contextmenu\r\n        window.addEventListener(\"contextmenu\", (e) => e.preventDefault());\r\n\r\n        this.controlPanelObject = findReact(this.controlRef.current);\r\n\r\n        const recentProject = localStorage.getItem(\"recentProject\");\r\n        if (recentProject !== null) this.loadProject(recentProject);\r\n        else this.showPopup('project');\r\n    }\r\n\r\n    // wczytaj zapisany projekt z localstorage\r\n    loadProject = (projectName) => {\r\n        let saved = [];\r\n        let projects = {};\r\n        if(localStorage.getItem('projects') !== null){\r\n            projects = JSON.parse(localStorage.getItem('projects'));\r\n\r\n            // usuwa z globalnego kontekstu customowe funkcje poprzedniego projektu\r\n            if(projects[this.currentProjectName] !== undefined)\r\n                for (const saved of projects[this.currentProjectName]){\r\n                    global[saved['name']] = undefined;\r\n                }\r\n\r\n            // wpisuje do 'saved' zapisane bramki\r\n            if(projects[projectName] !== undefined)\r\n                saved = projects[projectName];\r\n        }\r\n\r\n        this.currentProjectName = projectName;\r\n        localStorage.setItem(\"recentProject\", projectName);\r\n        this.controlPanelObject.reset(saved);\r\n        this.clearCanvas();\r\n    }\r\n\r\n    addNode = (e, type) => {\r\n        // dodaj tylko jeeli kliknito na czysty obszar (nie np istniejcy node)\r\n        if ( !e.target.classList.contains('Area') )\r\n            return;\r\n        // aby nie dodawac node'a podczas scalania nodesetow\r\n        if ([\"NodeSet\", \"NodeSetHandle\", \"Node\"]\r\n            .includes(document.elementFromPoint(e.clientX, e.clientY)\r\n            .getAttribute(\"data-element\"))) return;\r\n\r\n\r\n        const pos = e.clientY - e.target.offsetTop - 10;\r\n        let stateCopy = Object.assign({}, this.state);\r\n\r\n        const nodesPerClick = this.state.settings.nodesPerClick;\r\n\r\n        if (type === \"startNode\")\r\n            for (let i = 0; i < nodesPerClick; i++){\r\n                stateCopy.inputs.push(\r\n                    {\r\n                        type: 'node',\r\n                        position: pos,\r\n                    }\r\n                )\r\n            }\r\n        else // endNode\r\n            for (let i = 0; i < nodesPerClick; i++){\r\n                stateCopy.outputs.push(\r\n                    {\r\n                        type: 'node',\r\n                        position: pos,\r\n                    }\r\n                )\r\n            };\r\n\r\n        this.setState (stateCopy, () => {\r\n            this.sideAreaModification(e, undefined, pos)\r\n        });\r\n    }\r\n\r\n    // albo podajemy pozycje, albo focused element\r\n    sideAreaModification = (e, focusedElement, position = undefined) => {\r\n        // node'y i nodesety znajdujace sie pod kursorem\r\n        const elementsUnderCursor = document.elementsFromPoint(e.clientX, e.clientY).filter(\r\n            (element) => {\r\n                const elementType = element.getAttribute(\"data-element\");\r\n                return (\r\n                // jezeli element jest nodem nalezacym do nodesetu, to go zostawiamy\r\n                // (zapobiegniecie powtarzaniu node'ow)\r\n                elementType === \"Node\" && element.parentElement.getAttribute(\"data-element\") !== \"NodeSet\")\r\n                        || elementType === \"NodeSet\";\r\n            }\r\n        );\r\n\r\n        // sa elementy do scalenia\r\n        if (elementsUnderCursor.length > 1){\r\n            // szukamy elementu, od ktorego pobierzemy pozycje\r\n            // (tego, ktory nie byl trzymany)\r\n            if (typeof focusedElement !== \"undefined\"){\r\n                for (let sideAreaElement of elementsUnderCursor){\r\n                    if (sideAreaElement !== focusedElement.parentElement){\r\n                        position = sideAreaElement.style.top;\r\n                    }\r\n                }\r\n            }\r\n            // posegregowanie elementow\r\n            const interactiveElements = {\r\n                'nodes': [],\r\n                'nodeSets': [],\r\n            };\r\n            elementsUnderCursor.forEach((element) => {\r\n                const elementType = element.getAttribute(\"data-element\");\r\n                if (elementType === \"Node\") interactiveElements[\"nodes\"].push(element);\r\n                else interactiveElements[\"nodeSets\"].push(element);\r\n            });\r\n\r\n            this.mergeNodes(interactiveElements, position, e.clientX <= 50);\r\n        }\r\n    }\r\n\r\n    mergeNodes = (elements, position, isInputArea) => {\r\n        let stateCopy = Object.assign({}, this.state),\r\n        childNodes = [],\r\n        isSigned = false;\r\n\r\n        if (elements.nodeSets.length === 0){\r\n            childNodes = elements.nodes;\r\n        } else {\r\n            // dodaj do tablicy wszystkie nody nalezace do nodesetow\r\n            for (let i = 0; i < elements.nodeSets.length; i++){\r\n                // jezeli chociaz jeden nodeset byl z bitem znaku, to\r\n                // nowy tez bedzie mial bit znaku\r\n                if (elements.nodeSets[i].getAttribute(\"data-signed\") === \"true\") isSigned = true;\r\n\r\n                childNodes.push(\r\n                    ...elements.nodeSets[i].childNodes\r\n                );\r\n            };\r\n\r\n            childNodes.push( ...elements.nodes );\r\n\r\n            // zostawiamy tylko node'y\r\n            childNodes = childNodes.filter(\r\n                (node) => node.getAttribute(\"data-element\") === \"Node\"\r\n            );\r\n        }\r\n\r\n        // powiadom nodesety i node'y o scaleniu\r\n        for (let nodeSet of elements.nodeSets){\r\n            nodeSet.dispatchEvent(merge);\r\n        }\r\n\r\n        for (let node of childNodes){\r\n            node.dispatchEvent(merge);\r\n        }\r\n\r\n        const set = {\r\n            type: 'set',\r\n            nodes:childNodes,\r\n            position:position,\r\n            isInputArea: isInputArea,\r\n            isSigned:isSigned,\r\n            unmountNode: this.unmountNode,\r\n        }\r\n        if (isInputArea) {\r\n            stateCopy.inputs.push(set);\r\n        } else {\r\n            stateCopy.outputs.push(set);\r\n        }\r\n\r\n        this.setState(stateCopy);\r\n    }\r\n\r\n    addGate = (e, args) => {\r\n        const boardCopy = [...this.state.board];\r\n\r\n        let newGate;\r\n        boardCopy.push(\r\n            <LogicGate\r\n                gateName={ args.gateName }\r\n                inputs={ args.inputCount }\r\n                outputs={ args.outputCount }\r\n                function={ args.function }\r\n                style={ args.style }\r\n                drawWire = { this.drawWire }\r\n                getFocusedElement={ this.getFocusedElement }\r\n                setFocusedElement={ this.setFocusedElement }\r\n                getClock={() => this.state.settings.clock}\r\n                reference={el => newGate = el}\r\n            />\r\n        );\r\n        this.setState ({'board': boardCopy}, function(){\r\n            // 'e.target' odnosi si teraz do komponentu DummyGate\r\n            const xo = e.clientX - e.target.offsetLeft + this.controlRef.current.scrollLeft;\r\n            const yo = e.clientY - e.target.offsetTop + (e.target.offsetHeight/2);\r\n\r\n            newGate.style.left = e.clientX - xo + 'px';\r\n            newGate.style.top  = e.clientY - yo + 'px';\r\n            newGate.style.zIndex = 2;\r\n\r\n            this.setState({\r\n                heldElement: newGate,\r\n                heldElementOffset: [xo, yo],\r\n            });\r\n        });\r\n    }\r\n\r\n    handleMouseDown = (e) => {\r\n        if(e.button === 0)\r\n            this.grab(e);\r\n    }\r\n\r\n    // funkcja podnoszca element\r\n    grab(e) {\r\n        let element = e.target;\r\n        const elementType = element.getAttribute(\"data-element\");\r\n        if(![\"NodeHandle\", \"NodeSetHandle\", \"LogicGate\"].includes(elementType))\r\n            return;\r\n\r\n        this.setState({heldElement: element});\r\n        element.style.zIndex = 2;\r\n\r\n        let xo, yo;\r\n\r\n        if ([\"NodeHandle\", \"NodeSetHandle\"].includes(elementType)) {\r\n            element = element.parentElement;\r\n            const board = this.boardRef.current;\r\n            xo = 0;\r\n            yo = e.clientY - element.offsetTop - board.offsetTop;\r\n        } else if(['LogicGate'].includes(elementType)){\r\n            const grid = this.state.settings.grid\r\n            // obliczenie rnicy koordynatw x i y, midzy punktem chwytu a faktycznym pooeniem bloku\r\n            // uwzgldnia szeroko siatki\r\n            xo = e.clientX - element.offsetLeft - grid/2;\r\n            yo = e.clientY - element.offsetTop - grid/2;\r\n        }\r\n\r\n        this.setState({heldElementOffset: [xo, yo]});\r\n    }\r\n\r\n    // przenie trzymany element\r\n    move(e) {\r\n        const element = this.state.heldElement;\r\n        if(!element) return;\r\n\r\n        const canvas  = e.currentTarget;\r\n        const board   = this.boardRef.current;\r\n\r\n        switch (element.getAttribute(\"data-element\")){\r\n            case \"LogicGate\": {\r\n                let x = e.clientX - this.state.heldElementOffset[0] - board.offsetLeft; // rnica x\r\n                let y = e.clientY - this.state.heldElementOffset[1] - board.offsetTop; // rnica y\r\n\r\n                const grid = this.state.settings.grid;\r\n                x = x - (x % grid) + board.offsetLeft;\r\n                y = y - (y % grid) + board.offsetTop;\r\n\r\n                if (x < board.offsetLeft)\r\n                    // za daleko w lewo\r\n                    x = board.offsetLeft;\r\n                else if (x + element.offsetWidth > board.offsetWidth + board.offsetLeft)\r\n                    // za daleko w prawo\r\n                    x = board.offsetWidth + board.offsetLeft - element.offsetWidth;\r\n                if (y < canvas.offsetTop)\r\n                    // za daleko w gr\r\n                    y = canvas.offsetTop;\r\n                else if (y + element.offsetHeight > canvas.offsetHeight + canvas.offsetTop)\r\n                    // za daleko w d\r\n                    y = canvas.offsetHeight + canvas.offsetTop - element.offsetHeight;\r\n\r\n                element.style.left = x + 'px';\r\n                element.style.top = y + 'px';\r\n                element.dispatchEvent(move);\r\n            }\r\n            break;\r\n\r\n            case \"NodeSetHandle\": {\r\n                const nodeSet = element.parentElement;\r\n                let y = e.clientY - this.state.heldElementOffset[1];\r\n\r\n                if (y > nodeSet.parentElement.offsetHeight - 10)\r\n                    y = nodeSet.parentElement.offsetHeight - 10;\r\n\r\n                if (y < nodeSet.parentElement.offsetTop)\r\n                    y = nodeSet.parentElement.offsetTop;\r\n\r\n                nodeSet.style.top = y - 40 + 'px';\r\n                nodeSet.dispatchEvent(move);\r\n            }\r\n\r\n            break;\r\n\r\n            case \"NodeHandle\": {\r\n                const node = element.parentElement;\r\n                let y = e.clientY - this.state.heldElementOffset[1];\r\n\r\n                if (y > node.parentElement.offsetHeight + 10)\r\n                    y = node.parentElement.offsetHeight + 10;\r\n\r\n                if (y < node.parentElement.offsetTop + 10)\r\n                    y = node.parentElement.offsetTop + 10;\r\n\r\n                node.style.top = y - 40 + 'px';\r\n                node.dispatchEvent(move);\r\n            }\r\n            break;\r\n\r\n            default: return;\r\n        }\r\n    }\r\n\r\n    drop(e) {\r\n        const element = this.state.heldElement;\r\n\r\n        if (element){\r\n            const elementType = element.getAttribute(\"data-element\");\r\n            if (elementType === \"NodeSetHandle\" || elementType === \"NodeHandle\"){\r\n                this.sideAreaModification(e, element);\r\n            }\r\n\r\n            // upu trzymany element\r\n            this.setState({heldElement: undefined});\r\n            const board = this.boardRef.current;\r\n            const y = parseInt(element.style.top.split('px')[0])\r\n\r\n            // jeeli przeniesiony poniej poziomu 'board', usu\r\n            if (y + (element.offsetHeight) > board.offsetHeight + board.offsetTop){\r\n                const comp = findReact(element);\r\n                comp.selfDestruct();\r\n                element.dispatchEvent(remove);\r\n\r\n                const focused = this.getFocusedElement();\r\n                if(focused && focused.gate === comp)\r\n                    this.setFocusedElement(undefined);\r\n            } else {\r\n                element.style.zIndex = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawWire = (firstPin, secondPin) => {\r\n        const newWiresList = this.state.wires.concat([ <Wire firstPin={firstPin} secondPin={secondPin} /> ]);\r\n        this.setState({\"wires\": newWiresList});\r\n    }\r\n\r\n    // zapisuje obszar roboczy jako now bramk do projektu\r\n    saveGate = (name, color) => {\r\n        const newGateObject = makeNewGate(this.canvasRef, name, color);\r\n\r\n        // zapisywanie w localStorage\r\n        let projects = {};\r\n        if(localStorage.getItem('projects') !== null)\r\n            projects = JSON.parse(localStorage.getItem('projects'));\r\n        if(projects[this.currentProjectName] === undefined)\r\n            projects[this.currentProjectName] = [];\r\n\r\n        projects[this.currentProjectName].push(newGateObject);\r\n        localStorage.setItem(\"projects\", JSON.stringify(projects));\r\n\r\n        // dodaj now bramk do zasobnika\r\n        this.controlPanelObject.addDummy(newGateObject);\r\n        this.clearCanvas();\r\n    }\r\n\r\n    adjustSettings = (settings) => {\r\n        this.setState({settings: settings});\r\n    }\r\n\r\n    showPopup = (name) => {\r\n        var popup;\r\n        switch(name) {\r\n            case 'project':\r\n                popup = (\r\n                    <ProjectPopup\r\n                        getCurrentProjectName={this.getCurrentProjectName}\r\n                        loadProject={this.loadProject}\r\n                        killPopup={this.killPopup}\r\n                    />\r\n                );\r\n                break;\r\n            case 'save':\r\n                popup = (<SaveGatePopup saveGate={this.saveGate} killPopup={this.killPopup}/>);\r\n                break;\r\n            case 'settings':\r\n                popup = (\r\n                    <SettingsPopup\r\n                        adjustSettings={this.adjustSettings}\r\n                        settings={this.state.settings}\r\n                        killPopup={this.killPopup}\r\n                    />\r\n                 );\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        this.setState({'popup': popup});\r\n    }\r\n\r\n    killPopup = () => {\r\n        this.setState({popup: null})\r\n    }\r\n\r\n    clearSideAreas = () => {\r\n        const canvasElements = [...this.canvasRef.childNodes.values()];\r\n        const sideAreas = canvasElements.filter(\r\n            (element) => element !== this.boardRef.current\r\n        )\r\n\r\n        for (let sideArea of sideAreas){\r\n            for (let childNode of sideArea.childNodes){\r\n                childNode.dispatchEvent(remove);\r\n            }\r\n        }\r\n    }\r\n\r\n    // wyczyobszar roboczy\r\n    clearCanvas = () => {\r\n        this.clearSideAreas();\r\n        this.setState({focusedElement: undefined, board: [], wires: []});\r\n    }\r\n\r\n    render() {\r\n        if(this.state.settings.showGrid && this.state.settings.grid > 1)\r\n            var gridStyle = {backgroundSize: this.state.settings.grid + 'px ' + this.state.settings.grid + 'px'};\r\n\r\n        return (\r\n            <div className={ styles.Application }\r\n                onMouseDown={ this.handleMouseDown }\r\n                onMouseMove={ (e) => this.move(e) }\r\n                onMouseUp={ (e) => this.drop(e) }\r\n            >\r\n                {this.state.popup}\r\n                <Menu functions={[\r\n                    {\r\n                        name: \"zapisz bramk\",\r\n                        function: () => this.showPopup('save'),\r\n                    },\r\n                    {\r\n                        name: \"wyczy\",\r\n                        function: this.clearCanvas,\r\n                    },\r\n                    {\r\n                        name: \"projekt\",\r\n                        function: () => this.showPopup('project'),\r\n                    },\r\n                    {\r\n                        name: \"ustawienia\",\r\n                        function: () => this.showPopup('settings'),\r\n                    },\r\n                ]}/>\r\n                <WiresBoard wires={this.state.wires} />\r\n                <div\r\n                    className={ styles.Canvas }\r\n                    ref={el => this.canvasRef = el}\r\n                >\r\n                    <div\r\n                        className={ `Area ${styles.InputArea}` }\r\n                        onClick={ (e) => this.addNode(e, 'startNode')}\r\n                    >\r\n                        {\r\n                            this.state.inputs.map((item) => {\r\n                                    if(item.type === 'node')\r\n                                    return (\r\n                                        <StartNode\r\n                                            position={item.position}\r\n                                            setFocusedElement={this.setFocusedElement}\r\n                                            showNodeNames={this.state.settings.showNodeNames}\r\n                                        />\r\n                                    );\r\n                                    else if(item.type === 'set')\r\n                                    return (\r\n                                        <NodeSet\r\n                                            nodes={item.nodes}\r\n                                            position={item.position}\r\n                                            isInputArea={item.isInputArea}\r\n                                            isSigned={item.isSigned}\r\n                                            unmountNode={item.unmountNode}\r\n                                            showNodeNames={this.state.settings.showNodeNames}\r\n                                        />\r\n                                    );\r\n                                }\r\n                            )\r\n                        }\r\n\r\n                    </div>\r\n                    <div\r\n                        className={ styles.Board }\r\n                        ref={this.boardRef}\r\n                        // rysuje siatk o odpowiednim rozmiarze na tle\r\n                        style={gridStyle}\r\n                    >\r\n\r\n                        { this.state.board }\r\n\r\n                    </div>\r\n                    <div\r\n                        className={ `Area ${styles.OutputArea}` }\r\n                        onClick={ (e) => this.addNode(e, 'endNode')}\r\n                    >\r\n                        {\r\n                            this.state.outputs.map((item) => {\r\n                                    if(item.type === 'node')\r\n                                    return (\r\n                                        <EndNode\r\n                                            position={item.position}\r\n                                            getFocusedElement={this.getFocusedElement}\r\n                                            drawWire={this.drawWire}\r\n                                            showNodeNames={this.state.settings.showNodeNames}\r\n                                        />\r\n                                    );\r\n                                    else if(item.type === 'set')\r\n                                    return (\r\n                                        <NodeSet\r\n                                            nodes={item.nodes}\r\n                                            position={item.position}\r\n                                            isInputArea={item.isInputArea}\r\n                                            isSigned={item.isSigned}\r\n                                            unmountNode={item.unmountNode}\r\n                                            showNodeNames={this.state.settings.showNodeNames}\r\n                                        />\r\n                                    );\r\n                                }\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <ControlPanel addGate={this.addGate} reference={this.controlRef}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Application;\r\n","import React from \"react\";\r\nimport OutputPin from \"./Pin/OutputPin\";\r\nimport InputPin from \"./Pin/InputPin\";\r\nimport styles from \"./LogicGate.module.scss\";\r\n\r\nclass LogicGate extends React.Component {\r\n    constructor(props) {\r\n        super();\r\n        this.name = props.gateName;\r\n        this.func = props.function;\r\n        this.state = {\r\n            render: true,\r\n        };\r\n        this.inputs = [];\r\n        this.outputs = [];\r\n    }\r\n\r\n    // dziki tej funkcji piny dodaj si do tablicy pinw output lub input\r\n    mountPin = (pin) => {\r\n        if (pin instanceof InputPin) {\r\n            this.inputs[pin.index] = pin;\r\n        } else if (pin instanceof OutputPin) {\r\n            this.outputs[pin.index] = pin;\r\n        }\r\n    };\r\n\r\n    componentDidMount(){\r\n        // bramki constant nigdy nie przetwarzayby swoich wartoci\r\n        this.processOutput();\r\n    }\r\n\r\n    selfDestruct() {\r\n        // usu wszystkie poczenia\r\n        this.inputs.forEach((i) => i.disconnect());\r\n        this.outputs.forEach((o) => {\r\n            o.state.childPins.forEach((i) => i.disconnect());\r\n        });\r\n        this.setState({ render: false });\r\n    }\r\n\r\n    processOutput() {\r\n        let inputs = Array.from(this.inputs.map((input) => input.state.value));\r\n        let output = this.func(inputs);\r\n\r\n        setTimeout(() => {\r\n            for (let i = 0; i < output.length; i++)\r\n                this.outputs[i].receiveSignal(output[i]);\r\n        }, this.props.getClock());\r\n    }\r\n\r\n    render() {\r\n        if (this.state.render === false) return null;\r\n\r\n        let inputFields = [];\r\n        for (let i = 0; i < this.props.inputs; i++) {\r\n            inputFields.push(\r\n                <InputPin\r\n                    drawWire={this.props.drawWire}\r\n                    index={i}\r\n                    gate={this}\r\n                    getFocusedElement={this.props.getFocusedElement}\r\n                    mount={this.mountPin}\r\n                />\r\n            );\r\n        }\r\n\r\n        let outputFields = [];\r\n        for (let i = 0; i < this.props.outputs; i++) {\r\n            outputFields.push(\r\n                <OutputPin\r\n                    index={i}\r\n                    gate={this}\r\n                    getFocusedElement={this.props.getFocusedElement}\r\n                    setFocusedElement={this.props.setFocusedElement}\r\n                    mount={this.mountPin}\r\n                />\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div\r\n                className={`LogicGate ${styles.LogicGate}`}\r\n                style={this.props.style}\r\n                ref={this.props.reference}\r\n                data-element=\"LogicGate\"\r\n            >\r\n                <div className={styles.LogicGateInputs}>{inputFields}</div>\r\n                <h5 className={styles.LogicGateValue}> {this.name.replace('f_', '')} </h5>\r\n                <div className={styles.LogicGateOutputs}>{outputFields}</div>\r\n            </div>\r\n        ); // styl LogicGateOutputs jeszcze nie istnieje\r\n    }\r\n}\r\n\r\nexport default LogicGate;\r\n","import styles from './ControlPanel.module.scss';\nimport DummyGate from '../DummyGate/DummyGate';\nimport {retrieveFunction} from '../../functions';\nimport {AND, NOT, OR, FALSE, TRUE} from \"../../logicalFunctions\"\nimport React from \"react\";\n\n// NAZWA BRAMKI MUSI BY TAKA SAMA JAK NAZWA JEJ FUNKCJI\nconst defaultDummies = (addgate) => [\n    <DummyGate\n        gateName={ \"AND\" }\n        function={AND}\n        color={\"cornflowerblue\"}\n        inputs={ 2 }\n        outputs={ 1 }\n        addGate={addgate}\n    />,\n    <DummyGate\n        gateName={ \"NOT\" }\n        function={NOT}\n        color={\"purple\"}\n        inputs={ 1 }\n        outputs={ 1 }\n        addGate={addgate}\n    />,\n    <DummyGate\n        gateName={ \"OR\" }\n        function={OR}\n        color={\"chocolate\"}\n        inputs={ 2 }\n        outputs={ 1 }\n        addGate={addgate}\n    />,\n    <DummyGate\n        gateName={ \"FALSE\" }\n        function={FALSE}\n        color={\"red\"}\n        inputs={ 0 }\n        outputs={ 1 }\n        addGate={addgate}\n    />,\n    <DummyGate\n        gateName={ \"TRUE\" }\n        function={TRUE}\n        color={\"lime\"}\n        inputs={ 0 }\n        outputs={ 1 }\n        addGate={addgate}\n    />,\n]\nclass ControlPanel extends React.Component {\n    constructor(props){\n        super();\n        this.state = {\n            dummies: defaultDummies(props.addGate),\n        }\n    }\n\n    // wczytuje tylko bramki domylne i te przesane jako argument\n    reset = (savedGates) => {\n        let newDummies = [];\n        for(const savedGate of savedGates){\n            newDummies.push(this.createDummy(savedGate));\n        }\n        this.setState({dummies: defaultDummies(this.props.addGate).concat(newDummies)})\n    }\n\n    createDummy = (newGate) => {\n        const func = retrieveFunction(newGate.functions);\n\n        // zrb tfunkcj dostpn globalnie\n        global[newGate.name] = func;\n\n        return (\n            <DummyGate\n                gateName={ newGate.name }\n                function={ func }\n                color={ newGate.color }\n                inputs={ newGate.inputs }\n                outputs={ newGate.outputs }\n                addGate={ this.props.addGate }\n            />\n        )\n    }\n    addDummy = (newGate) => {\n        let dummies = this.state.dummies;\n        dummies.push(this.createDummy(newGate));\n        this.setState({dummies: dummies});\n    }\n\n    handleOnWheel = (e) => {\n        const el = e.currentTarget;\n        el.scrollLeft += e.deltaY;\n    }\n\n    render(){\n        return (\n        <div\n            className={ styles.ControlPanel }\n            ref={this.props.reference}\n            onWheel={this.handleOnWheel}\n        >\n            {this.state.dummies}\n        </div>\n        );\n    }\n}\n\nexport default ControlPanel;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ControlPanel\":\"ControlPanel_ControlPanel__1H8pU\"};","import Popup from './Popup';\nimport styles from './ProjectPopup.module.scss';\n\nfunction validateProjectName(name) {\n    if(name === undefined) return false;\n    var regex = /^[A-Za-z0-9 ]+$/;\n    return regex.test(name);\n}\nclass ProjectPopup extends Popup {\n    style = {\n        maxWidth: '440px',\n        height: '600px',\n    }\n\n    state = {\n        givenName: undefined,\n        projects: JSON.parse(localStorage.getItem(\"projects\")),\n    }\n\n    handleOnChange = (e) => {\n        this.setState({\n            givenName: e.target.value\n        });\n    }\n\n    loadProject = (name) => {\n        if (!validateProjectName(name)) {\n            alert('niepoprawna nazwa');\n            return;\n        }\n        this.props.loadProject(name);\n        this.props.killPopup();\n    }\n\n    deleteProject = (project) => {\n        if(this.props.getCurrentProjectName() === project) {\n            alert('nie moesz usunotwartego projektu');\n            return;\n        }\n        let obj = this.state.projects;\n        delete obj[project];\n        this.setState({projects: obj});\n        localStorage.setItem(\"projects\", JSON.stringify(obj));\n    }\n\n    selfDestruct = () => {\n        if(this.props.getCurrentProjectName() === undefined){\n            alert('wybierz lub utwrz projekt')\n            return;\n        }\n        this.props.killPopup();\n    }\n\n    render(){\n        var projects = [];\n        for (const proj in this.state.projects){\n            projects.push(\n                <div\n                    className={styles.MainListProject}\n                >\n                    <button\n                        className={styles.MainListProjectBody}\n                        onClick={() => this.loadProject(proj)}\n                    >\n                        <p>{proj}</p>\n                    </button>\n                    <button\n                        className={styles.MainListProjectDelete}\n                        onClick={() => this.deleteProject(proj)}\n                    >\n                        X\n                    </button>\n                </div>\n            );\n        }\n        let isEmpty = false;\n        if (projects.length === 0){\n            projects.push(<h2>Brak utworzonych projektw</h2>);\n            isEmpty = true;\n        }\n\n        return super.render((\n            <div className={styles.Main}>\n                <h1 className={styles.MainTitle}>Wybierz projekt</h1>\n                <div className={styles.MainNewProjectArea}>\n                    <div className={styles.AnimatedLabel}>\n                        <input\n                            type=\"text\"\n                            className={`${styles.MainNewText} ${styles.AnimatedLabelInput}`}\n                            placeholder=\" \"\n                            maxLength=\"24\"\n                            onChange={this.handleOnChange}\n                        />\n                        <label className={styles.AnimatedLabelLabel}>\n                            Nazwa nowego projektu\n                        </label>\n                    </div>\n                    <input\n                        type=\"button\"\n                        value=\"Stwrz\"\n                        className={styles.MainNewButton}\n                        onClick={() => this.loadProject(this.state.givenName)}\n                    />\n                </div>\n                <div className={`${styles.MainList} ${ isEmpty ? styles.MainListEmpty : \"\" }`}>\n                    {projects}\n                </div>\n            </div>\n        ));\n    }\n}\n\nexport default ProjectPopup;\n","import Popup from './Popup';\nimport styles from './SettingsPopup.module.scss';\nimport customCheckbox from './customCheckbox.module.scss';\n\nclass SettingsPopup extends Popup {\n    style = {\n        maxWidth: '440px',\n        height:   '500px',\n    }\n\n    state = {\n        settings: {\n            ...this.props.settings,\n        }\n    }\n\n    handleOnChangeSlider = (e, setting) => {\n        let settings = {...this.state.settings};\n        settings[setting] = e.target.value;\n        this.setState({settings: settings});\n    }\n\n    handleOnChangeCheckbox = (e, setting) => {\n        let settings = {...this.state.settings};\n        settings[setting] = e.target.checked;\n        this.setState({settings: settings});\n    }\n\n    selfDestruct = () => {\n        this.props.adjustSettings(this.state.settings);\n        this.props.killPopup();\n    }\n\n    getGridSliderValue = () => {\n        var val = this.state.settings.grid;\n        if(val === '1') val = \"Wyczona\";\n        return val;\n    }\n\n    getClockSliderValue = () => {\n        var val = this.state.settings.clock;\n        if(val === '1') val = \"off\";\n        return val;\n    }\n\n    render(){\n        return super.render((\n            <div className={styles.Main}>\n                <h2 className={styles.MainTitle}>Siatka</h2>\n                <div className={styles.MainSection}>\n                    <div className={styles.MainSectionSubdivision}>\n                        <label className={styles.MainLabel}>\n                            Rozmiar siatki:\n                            <span className={styles.MainLabelValue}>\n                                {this.getGridSliderValue()}\n                            </span>\n                        </label>\n                        <input\n                            type=\"range\"\n                            min=\"1\"\n                            max=\"60\"\n                            value={this.state.settings.grid}\n                            onChange={(e) => this.handleOnChangeSlider(e, 'grid')}\n                            className={styles.MainSectionSlider}\n                        />\n                    </div>\n                    <div className={styles.MainSectionSubdivision}>\n                        <label className={styles.MainLabel}>Poka siatk</label>\n                        <label className={customCheckbox.container}>\n                            <input\n                                type=\"checkbox\"\n                                checked={this.state.settings.showGrid}\n                                onChange={(e) => this.handleOnChangeCheckbox(e, 'showGrid')}\n                            />\n                            <span className={customCheckbox.checkmark}></span>\n                        </label>\n                    </div>\n                </div>\n                <h2 className={styles.MainTitle}>Bramki</h2>\n                <div className={styles.MainSection}>\n                    <div className={styles.MainSectionSubdivision}>\n                        <label className={styles.MainLabel}>\n                            Czas propagacji:\n                            <span className={styles.MainLabelValue}>\n                                {this.getClockSliderValue()}ms\n                            </span>\n                            </label>\n                        <input\n                            type=\"range\"\n                            min=\"0\"\n                            max=\"2000\"\n                            value={this.state.settings.clock}\n                            onChange={(e) => this.handleOnChangeSlider(e, 'clock')}\n                            className={styles.MainSectionSlider}\n                        />\n                    </div>\n                </div>\n                <h2 className={styles.MainTitle}> Pola wejcia/wyjcia</h2>\n                <div className={styles.MainSection}>\n                    <div className={styles.MainSectionSubdivision}>\n                        <label className={styles.MainLabel}>Poka nazwy</label>\n\n                        <label className={customCheckbox.container}>\n                            <input // na razie nie ma zastosowania TODO\n                                type=\"checkbox\"\n                                checked={this.state.settings.showNodeNames}\n                                onChange={(e) => this.handleOnChangeCheckbox(e, 'showNodeNames')}\n                            />\n                        <span className={customCheckbox.checkmark}></span>\n                        </label>\n\n                    </div>\n                </div>\n            </div>\n        ));\n    }\n}\n\nexport default SettingsPopup;\n","import Popup from './Popup';\nimport styles from './SaveGatePopup.module.scss';\n\nfunction validateGateName(name) {\n    // nazwa moe skada si wycznie z liter i cyfr\n    var regex = /^f_[A-Za-z0-9]+$/;\n    return regex.test(name);\n}\n\nconst getRandomColor = () => '#' + Math.floor(Math.random()*16777215).toString(16)\n\nclass SaveGatePopup extends Popup {\n    style = {\n        maxWidth: '440px',\n        height: '160px',\n    }\n\n    state = {\n        givenName: '',\n        givenColor: getRandomColor(),\n    }\n\n    handleOnChangeName = (e) => {\n        this.setState({\n            givenName: e.target.value\n        });\n    }\n\n    handleOnChangeColor= (e) => {\n        this.setState({\n            givenColor: e.target.value\n        });\n    }\n\n    saveGate = () => {\n        const name = 'f_' + this.state.givenName;\n        if(!validateGateName(name) || global[name] !== undefined){\n            alert('niepoprawna nazwa');\n            return;\n        }\n\n        this.props.saveGate(name, this.state.givenColor);\n        this.selfDestruct();\n    }\n\n    render(){\n        return super.render((\n            <div className={styles.Main}>\n                <div className={styles.MainSaveArea}>\n                    <div className={styles.AnimatedLabel}>\n                        <input\n                            type=\"text\"\n                            className={`${styles.MainNameText} ${styles.AnimatedLabelInput}`}\n                            placeholder=\" \"\n                            maxLength=\"12\"\n                            onChange={this.handleOnChangeName}\n                        />\n                        <label className={styles.AnimatedLabelLabel}>NowaBramka</label>\n                    </div>\n                    <input\n                        type=\"button\"\n                        value=\"Zapisz\"\n                        className={styles.MainNewButton}\n                        onClick={() => this.saveGate()}\n                    />\n                </div>\n                <input\n                    type=\"color\"\n                    className={styles.MainColor}\n                    value={this.state.givenColor}\n                    onChange={this.handleOnChangeColor}\n                />\n            </div>\n        ));\n    }\n}\n\nexport default SaveGatePopup;\n","import styles from './WiresBoard.module.scss';\n\nconst WiresBoard = (props) => {\n    return (\n        <svg className={ styles.WiresBoard }>\n                { props.wires }\n        </svg>\n    )\n}\n\nexport default WiresBoard;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WiresBoard\":\"WiresBoard_WiresBoard__1awF0\"};","import styles from './Menu.module.scss'\n\nconst Button = (props) => {\n    return (\n        <button onClick={props.action} className={styles.Button}>{props.text}</button>\n    )\n}\n\nexport default Button;\n","import styles from './Menu.module.scss'\nimport Button from './Button'\nimport github from '../../images/github.png'\n\nconst Menu = (props) => {\n    let buttons = [];\n    for (const f of props.functions){\n        buttons.push(\n            <li><Button text={f.name} action={f.function}/></li>\n        );\n    }\n    return (\n        <div className={styles.Menu}>\n            <ul>\n                {buttons}\n            </ul>\n            <a\n                href=\"https://github.com/isayni/logic\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                <img src={github} alt=\"GitHub repository\" />\n            </a>\n        </div>\n    )\n}\n\nexport default Menu;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAHiXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjapVhZttu4DvznKnoJ4gAOy+F4ztvBW34XQEqRZfomTtuxpEtRJFAFFKCo/v//DfUPPtZYoxyF6JP3Bz4uuWQyLuIxP1mO+nBylI9bt/D3y7i6bhgMWZzt/DP6Nf8c19cC85RxRbeFYl03yuuNtHYw8bHQ2siyRQYXbS2U1kLWzBt6LZCnW4dPMdxdKH2e2+lJnD/Fh3KO0pr8+NsFoNcI+1hjutX2wNHaZYA9BGybcWHlaHgipmX8DI7WxmUJANnhdH0SLBp9UfE+6YWV60rvx9WTLWfWFPsA2V/n7bjStGdFoL/HT1xX5nWc9FGmRQ/0+TdGi0N8hhfZeUDtl1OnK3KFeVjE8dZRwTR/BPwISwT5JnwjoroiFNpRsWPBddIGdA3tdNNZD93lXHWFic50ZQIujKmgiwejDSaZCg61dfzVwwSbbLMRTFah3Vlz2aJl23RUJbtF7Nw0phqNxZj8r7/q2wfG4FTQ+ogXVrDLGAYbZjBzfMQ0MKLHApUE4PP7/DCvFgwSo8wpkgBsmUsU0r+UwArRFhMJ55mDOrS1ACDC1gRjtAUDYE1b0l4fwZigNYCMICjDdGOdKWBAE5kGI42z1oObaHhrPBK0TDVkMKwwDjEDE2S9DeAm2QyynCPET3ARMZTJkiMiT4EiJcreeufJex88i2IONjgVKPgQQgwp5GijixR9DDHGFHMyyUI0KfkUUkwp5Yw9M1bOeDpjQs7FFFtcIVV8CSWWVHJF+FRXqfoaaqyp5maabdCP5ltosaWWu+4Ipe46dd9Djz31PBBqw6rhBg0/wogjjXyxtmh9+37Bml6sGWGKJ4aLNYyGcC6hWU6IOQNhqCIajAemAAFtmLMjaucMM8ecHckgK8jASGLOmmbGwKDr2tDQJ3fKTEaZuf/EmwruhTfzt8wppu5L5t5527HWuAxVYWxmIYN6WGTf8Ec2Ef+O3Vmti1wJloWWbQh1lOC7Ld7nGgZwGM36gaVqCAObuUOnAeRbbqU3XUoPragSdCuWcJu4jo1eKyb7xg/GzsdBPc5h7Mg3eBjXBJ8a11PSjrQ6L7CNs6NYO3oqYcAgntxCfg5iqMiu3lFtcCIBmTpUgRuheJNL87IBwsIRSPvlk3gEawZR7x7usO9wp5ViW+FHYDNjlLlV+PPzHk4VDwNb4g5Uwn4ktssTeMSy6ZW41WA87mf1HPj5fLLxhB0B2eEu8BHYsmXY2Fig5iO3FTEXHSwe8qB42N5bS73FzEFwsiRnpR8DFBHnfhTnOyLU91aDr2hztG+8XGwNywHn2FvKYPCETn2N9YfzWqiggXondoUpyjlLyG4CeF+Jou4Z0wZ8ny4EcQE+REakvAEQkOIJodrbSBagVjUC00kcHxwDSeLZcqUMEtu5SRTUMeMmzbjpoMLUH8HenyWmoRrimZueDbRWv7ZW970R7FAYcS/YyZDxwtBID/eAGzJKPBSKm1ocD+HYu2vmPgwogPJ5AwjiBsODG4SOjeKbTGWdxeBaDMwdmWi8j2Hb0JZuQJtUnp6X6blmz0NvPCqS5TAIxRqWkuQI+4M0aXamCU5xiDYoyjCSY6mt+3IXosb3KcfdQ7tn1N88dHsGIsnx6tAe54Fmws6kNF6ScoA5PUejjMLrxMzNSD+lgEua4GZaGAr7FKCS74Nr7L1cWPMhUdCNTPEEsHwHwFouBWlRcS8TV5UglGFIUvJlIBeIFRwIqGcQ09EcW9YphW5HM5l5eozBNgburgDqa8lAI81VBaZ1DaTnPhas3Yc2Ggs3dwoJSXsNUSUxisj9VIwrclA8u/zicHifqH4o5/szRGsufncwHsqM9lsReTlLAX0vMeqLWvQ8+7sN6o+NoDi1R9RV5APSA81dhKr/WkTOAq5eKzgijfqXy80wUDepQqh4Sea/ge1Z+wnro5uohUa1I7e5+A/NAAsv6pJTLMlWJDlAklk/XhZCqG6cglZkUStTC94geqKgRLQQYaa4TW9Wx5+CpR4D2+XQ1T6F4y1KZoF8r8BcgKejm9oxKfHlXoHVpxL82mqeneYKj00JVVcNvVXNW9GUqgent60huu1y9itK45r4RZQxINQOTHSM/0ZZykZkkT4ImdHUlHzUwTFQB6H6TcSJW9R9J/qbgCReeFuY6owcTikgK+umuW7n5pxzmv1T9CbBN53YAo4pm35JxS3Exwx86TgkHIL0Y748VFBffZN6aZyS5Npr5MDTXU14RoCaXRSAeFPhPxPhs+apW9Ez3LeL84Akzb69ewH0R2PEFsXGcMCGS89+1ypLL/cGoKIPL3XxwyvgJ7vV49XoejdzH19C93VA3QrBi8Y80wEp8yMdal9/9m11+oE9dXZCX/ek3F/dJqhrht9UevOmzVCOfciqTcy+15HZF55d4XpBeMVUcbFchEpuppmbne3a6u8aleSU8jO4/AT1XU9T9AzqIEEtb2FD3ktJLeCWzk1EHFwfurPMrS4sl510yAv3TLaubn0Yxve5ts3+B5IqXBr34aVMwoML085eIUwCXW1w+7muIhcb/x//v5c6llVQClcnAAABhGlDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVIqDmYQcchQxcGCqIijVqEIFUKt0KqDyaVf0KQhSXFxFFwLDn4sVh1cnHV1cBUEwQ8QRycnRRcp8X9JoUWsB8f9eHfvcfcOEOplpttd44BuOFYqEZcy2VUp9IogBIgIY1Rhtjkny0l0HF/3CPD1LsazOp/7c/RqOZsBAYl4lpmWQ7xBPL3pmJz3iUVWVDTic+Ixiy5I/Mh11ec3zgWPBZ4pWunUPLFILBXaWG1jVrR04iniqKYblC9kfNY4b3HWy1XWvCd/YSRnrCxzneYQEljEEmRIUFFFCWU4iNFqkGIjRfvxDv5Bzy+TSyVXCYwcC6hAh+L5wf/gd7d2fnLCT4rEge4X1/0YBkK7QKPmut/Hrts4AYLPwJXR8lfqwMwn6bWWFj0C+raBi+uWpu4BlzvAwJOpWIonBWkK+TzwfkbflAX6b4Hwmt9bcx+nD0CaukreAAeHwEiBstc7vLunvbd/zzT7+wEqVHKKrSlxCgAADRppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NWRlODllYzMtZjU2NS00OTAzLWIxZjYtMGEwNmY4YTYwYWUzIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI0MTE5YTNlLWY0NDYtNGIyYi1hZTQzLTk3NTVhNGM1M2NlZiIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjEwMjlhNGFjLWM0NjktNDJlOS04NTM2LTQxMzRmNzljMWZjMiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IkxpbnV4IgogICBHSU1QOlRpbWVTdGFtcD0iMTY0NjI1MTk1ODQ1NTU3NCIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjMwIgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE1ODJlYmFmLTZlMTctNDE3NC1iNDk0LTYzZGY4MGY3NTNlOSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChMaW51eCkiCiAgICAgIHN0RXZ0OndoZW49IjIwMjItMDMtMDJUMjE6MTI6MzgrMDE6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+qs7ligAAAGNQTFRFiq35/v7+9fX15OTk4+Pj4eHh/Pz84uLi4ODg/////f39+fn5+/v7+vr66Ojo5eXl+Pj48fHx5ubm6urq9/f38vLy9PT09vb25+fn8PDw7u7u6+vr7Ozs8/Pz7+/v6enp7e3tAbTOOwAAAAF0Uk5TAEDm2GYAAAABYktHRACIBR1IAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5gMCFAwmhPchOQAAAOJJREFUWMPtlkESxSAIQ7vN/S/8t18bITF2pouyK8irpYi5rscMg2XZLgNLC9MlBFpL80sCREvzVwQgIwAZAcgIQEYAQsK/t8mhgBlbvZJtgfiGJxJqXVK/kgqax/UQAPsA3EtuDpwjACSfgI0S3DJOAjbm/s4GppwP8AHeAXjXacwHSg5wZyJ8SYpmKjeI6r5dXNylirhGQHnLlhqD16NXMHO42kMjcthPtfQ/aQuhBiRMBM0aQOOGEOcL3BYyCH27Nm2o9LsupmX5JMYqCaiEahVqq9kOIM88t09uixXfEfsBlD09qwGp/+kAAAAASUVORK5CYII=\"","function calculatePathRight(firstPinCoordinates, secondPinCoordinates) {\n    const verticalDistance = secondPinCoordinates[1] - firstPinCoordinates[1];\n    const horizontalDistance = secondPinCoordinates[0] - firstPinCoordinates[0];\n\n    // jezeli docelowy punkt jest nizej:\n    // ostatnie 3 wartosci a1: 1 12,12\n    // jezeli jest wyzej:\n    // ostatnie 3 wartosci a1: 0 12,-12\n    let a1, a2, roundings;\n    if (verticalDistance < -25) {\n        a1 = \"a20,20 0 0 0 12,-12\"\n        a2 = \"a20,20 0 0 1 12 -12\"\n    } else if (verticalDistance > 25) {\n        a1 = \"a20,20 0 0 1 12 12\";\n        a2 = \"a20,20 0 0 0 12 12\"\n    }\n\n    if (a1) {\n        roundings =\n            `\n                l ${[horizontalDistance / 2, 0]}\n                ${a1}\n                l ${[ 0, verticalDistance < 0 ? verticalDistance + 25 : verticalDistance - 25 ]} \n                ${a2}\n                `\n    } else {\n        roundings = \"\";\n    }\n\n    return `M ${firstPinCoordinates}\n            ${roundings}\n        L ${secondPinCoordinates}\n        `\n}\n\nfunction calculatePathLeft(firstPinCoordinates, secondPinCoordinates, paddings) {\n    const verticalDistance = secondPinCoordinates[1] - firstPinCoordinates[1];\n    const horizontalDistance = secondPinCoordinates[0] - firstPinCoordinates[0];\n\n    const isAbove = verticalDistance > 0;\n\n    let middleRoute = \"\";\n    const spaceSize = 75;\n    let minVerticalDistance;\n\n    if (isAbove) minVerticalDistance = paddings[0][1] + paddings[1][0] + spaceSize;\n    else minVerticalDistance = paddings[0][0] + paddings[1][1] + spaceSize;\n\n    // zmiesci sie pomiedzy\n    if (Math.abs(verticalDistance) > minVerticalDistance) {\n\n        // pierwszy jest na gorze\n        if (isAbove) {\n            middleRoute =\n                `\n                a20,20 0 0 1 12,12\n                l 0,${ (verticalDistance / 2) - 25 }\n\n                a20,20 0 0 1 -12,12\n\n                l ${horizontalDistance - 50}, 0\n\n                a20,20 0 0 0 -12,12\n\n                L ${ secondPinCoordinates[0] - 35}, ${secondPinCoordinates[1] - 15}\n\n                a20,20 0 0 0 12,12\n\n                `\n\n        } else {\n            middleRoute =\n                `   \n                    a20,20 0 0 0 12,-12\n                    l 0,${ (verticalDistance / 2) + 25 }\n\n                    a20,20 0 0 0 -12,-12\n\n                    l ${horizontalDistance - 50}, 0\n\n                    a20,20 0 0 1 -12,-12\n\n                    L ${ secondPinCoordinates[0] - 35}, ${secondPinCoordinates[1] + 15}\n\n                    a20,20 0 0 1 12,-12\n\n                `\n        }\n\n        // nie zmiesci sie pomiedzy\n    } else {\n\n        if (isAbove) {\n            middleRoute =\n                `\n                    a20,20 0 0 0 12,-12\n\n                    l 0, ${ 2 * paddings[0][0] }\n\n                    a20,20 0 0 0 -12,-12\n\n                    l ${horizontalDistance - 35}, 0\n\n                    a20,20 0 0 0 -12,12\n\n                    L ${ secondPinCoordinates[0] - 25}, ${secondPinCoordinates[1] - 10}\n\n                    a20,20 0 0 0 12, 12\n                `\n        } else {\n\n            middleRoute =\n                `\n                    a20,20 0 0 1 12,12\n\n                    l 0, ${ -2 * paddings[0][0] }\n\n                    a20,20 0 0 1 -12,12\n\n                    l ${horizontalDistance - 35}, 0\n\n                    a20,20 0 0 1 -12,-12\n\n                    L ${ secondPinCoordinates[0] - 25}, ${secondPinCoordinates[1] + 15}\n\n                    a20,20 0 0 1 12, -12\n                `\n        }\n    }\n\n    // zawsze wychodzi 25 w prawo i o \n    // jezeli sie zmiesci\n    return `\n        M ${firstPinCoordinates}\n        l 25, 0\n        ${middleRoute}\n        \n        L ${secondPinCoordinates}\n    `\n}\n\nfunction calculatePath(firstPinBoundingClient, secondPinBoundingClient, paddings) {\n\n    //const firstPinBoundingClient = firstPin.getBoundingClientRect();\n    const firstPinCoordinates = [firstPinBoundingClient.left, firstPinBoundingClient.top];\n\n    //const secondPinBoundingClient = secondPin.getBoundingClientRect();\n    const secondPinCoordinates = [secondPinBoundingClient.left, secondPinBoundingClient.top];\n\n    // pozycje rowno w srodku pinu\n    firstPinCoordinates[1] += firstPinBoundingClient.height / 2;\n    firstPinCoordinates[0] += firstPinBoundingClient.width / 2;\n    secondPinCoordinates[1] += secondPinBoundingClient.height / 2;\n    secondPinCoordinates[0] += secondPinBoundingClient.width / 2;\n\n    // M - MOVE TO (WEDLUG POZYCJI BEWZGLEDNEJ)\n    // L - LINE TO (WEDLUG POZYCJI BEZWZGLEDNEJ)\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Element/path\n    // przewod idzie od wyjscia do wejscia\n\n    // jezeli docelowy punkt jest prawo\n    if (secondPinCoordinates[0] > firstPinCoordinates[0] + 30)\n        return calculatePathRight(firstPinCoordinates, secondPinCoordinates, paddings)\n    else\n        // punkt docelowy jest na lewo / mniej niz 30px na prawo\n        return calculatePathLeft(firstPinCoordinates, secondPinCoordinates, paddings)\n\n\n}\n\nexport default calculatePath;","import React from \"react\";\nimport styles from \"./Wire.module.scss\";\nimport calculatePath from \"./pathFunctions\";\nimport { findParentGate, findParentNode } from \"../../../findingFunctions\";\n\n// updatePosition throttling\nimport { throttle } from 'lodash';\nconst UPDATES_PER_SECOND = 60;\n\nconst stateClasses = {\n    true: styles.WireHighState,\n    false: styles.WireLowState,\n    undefined: styles.WireUndefinedState,\n};\n\nclass Wire extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.firstPin = props.firstPin;\n        this.secondPin = props.secondPin;\n\n        // jezeli pin jest wezlem startowym, to on jest uznawany za bramke\n        this.gates = [this.firstPin, this.secondPin].map((pin) => {\n          return pin.gate\n            ? findParentGate(pin.state.ref.current) // bramka\n            : findParentNode(pin.state.ref.current); // node\n        });\n\n        this.throttledUpdatePosition = throttle(this.updatePosition, 1000 / UPDATES_PER_SECOND);\n\n        this.state = {\n            // pozycje pinow w momencie tworzenia polaczenia\n            firstPinPosition:\n                props.firstPin.state.ref.current.getBoundingClientRect(),\n            secondPinPosition:\n                props.secondPin.state.ref.current.getBoundingClientRect(),\n\n            stateClass: this.getStateClass(),\n            render: true,\n        };\n\n        // przyda sie do lepszego zaginania polaczen -\n        // [ odleglosc od gornej granicy bramki, odleglosc od dolnej granicy bramki ]\n        {\n            const gateBoundingClientRect =\n                this.gates[0].getBoundingClientRect();\n\n            this.firstPinPaddings = [\n                gateBoundingClientRect.top - this.state.firstPinPosition.top,\n                gateBoundingClientRect.bottom - this.state.firstPinPosition.bottom,\n            ];\n        }\n\n        {\n            const gateBoundingClientRect =\n                this.gates[1].getBoundingClientRect();\n\n            this.secondPinPaddings = [\n                gateBoundingClientRect.top - this.state.secondPinPosition.top,\n                gateBoundingClientRect.bottom - this.state.secondPinPosition.bottom,\n            ];\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener(\n            \"resize\",\n            this.updatePosition,\n            false\n        );\n\n        for (let gate of this.gates) {\n            gate.addEventListener(\n                \"move\",    // zmiana na move\n                this.throttledUpdatePosition\n            );\n\n            gate.addEventListener(\n                \"remove\",\n                this.removeConnection\n            );\n        }\n\n        this.firstPin.state.ref.current.addEventListener(\n            \"signalChange\",\n            this.updateStateClass\n        );\n\n        this.secondPin.state.ref.current.addEventListener(\n            \"parentChange\",\n            this.onPinParentChange\n        );\n    }\n\n    detachEventListeners = () => {\n        window.removeEventListener(\n            \"resize\",\n            this.updatePosition,\n            false\n        );\n\n        // usuwam event listenery z obu pinow\n        for (let gate of this.gates) {\n            gate.removeEventListener(\n                \"move\",\n                this.throttledUpdatePosition\n            );\n\n            gate.removeEventListener(\n                \"remove\",\n                this.removeConnection\n            );\n        }\n\n        this.firstPin.state.ref.current.removeEventListener(\n            \"signalChange\",\n            this.updateStateClass\n        );\n\n        // zapobieganie \"powracaniu\" dawnych przewodow podczas przywracania dawnego polaczenia\n        this.secondPin.state.ref.current.removeEventListener(\n            \"parentChange\",\n            this.onPinParentChange\n        );\n    }\n\n    hideWire = () => this.setState({\n        \"render\": false,\n    });\n\n    removeConnection = () => {\n        this.detachEventListeners();\n\n        // usuwam polaczenie z perspektywy dziecka i rodzica\n        this.secondPin.disconnect();\n\n        // usuwam graficzny przewod\n        this.hideWire();\n    };\n\n    onPinParentChange = () => {\n        if (this.firstPin !== this.secondPin.state.parentPin){\n            this.hideWire();\n            this.detachEventListeners();\n        }\n    };\n\n    getStateClass = () => stateClasses[this.firstPin.state.value];\n\n    updateStateClass = () => {\n        this.setState({\n            stateClass: this.getStateClass(),\n        })\n    };\n\n    // funkcja powodujaca aktualizacje pozycji pinow w stanie\n    updatePosition = () => {\n        const newPosition = {...this.state};\n\n        if (this.firstPin.state.ref.current)\n            newPosition.firstPinPosition = this.firstPin.state.ref.current.getBoundingClientRect();\n\n        if (this.secondPin.state.ref.current)\n            newPosition.secondPinPosition = this.secondPin.state.ref.current.getBoundingClientRect();\n\n        this.setState(newPosition);\n    };\n\n    render() {\n        if (!this.state.render) return null;\n\n        const dAttribute = calculatePath(\n            this.state.firstPinPosition,\n            this.state.secondPinPosition,\n            [this.firstPinPaddings, this.secondPinPaddings]\n        ).replace(/(\\r\\n|\\n|\\r| {2})/gm, \"\");\n\n        return (\n            <g>\n                <path\n                    d={dAttribute}\n                    className={`${styles.Wire} ${this.state.stateClass}`}\n                />\n                <path\n                    d={dAttribute}\n                    className={styles.ClickableArea}\n                    onClick={this.removeConnection}\n                />\n            </g>\n        );\n    }\n}\n\nexport default Wire;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Application from './Components/Application/Application';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Application />\n  </React.StrictMode>,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}