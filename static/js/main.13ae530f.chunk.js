(this["webpackJsonplogic-circuit-simulator"]=this["webpackJsonplogic-circuit-simulator"]||[]).push([[0],[,,,,,,function(t,e,n){t.exports={LogicGate:"LogicGate_LogicGate__1Cc_p",LogicGateDummy:"LogicGate_LogicGateDummy__19ubT",LogicGateInputs:"LogicGate_LogicGateInputs__oV9js",LogicGateOutputs:"LogicGate_LogicGateOutputs__3uRMQ",LogicGateValue:"LogicGate_LogicGateValue__3jkbZ"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i}));var a=function(t){for(var e=!1,n=0;n<t.length;n++){if(!1===t[n])return[!1];void 0===t[n]&&(e=!0)}return e?[void 0]:[!0]},s=function(t){return void 0===t[0]?[void 0]:[!t[0]]},i=function(t){for(var e=!1,n=0;n<t.length;n++){if(!0===t[n])return[!0];void 0===t[n]&&(e=!0)}return e?[void 0]:[!1]}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return retrieveFunction})),__webpack_require__.d(__webpack_exports__,"b",(function(){return makeNewGate})),__webpack_require__.d(__webpack_exports__,"a",(function(){return findReact}));var _home_runner_work_logic_logic_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_home_runner_work_logic_logic_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),_Components_Node_EndNode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_Components_Node_StartNode__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20);function retrieveFunction(functions){var funcs=functions.map((function(f){return eval(f)}));return function(t){for(var e=[],n=0;n<funcs.length;n++)e.push(funcs[n](t));return e}}var compareTop=function(t,e){return parseInt(t.style.top.slice(0,-2))-parseInt(e.style.top.slice(0,-2))};function makeNewGate(t,e,n){var a,s=t.childNodes[0],i=t.childNodes[2],o=Object(_home_runner_work_logic_logic_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(i.childNodes).sort(compareTop).map((function(t){return findReact(t)})),r=Object(_home_runner_work_logic_logic_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.a)(s.childNodes).sort(compareTop).map((function(t){return findReact(t)})),c=function t(e,n){if(e&&-1===n.indexOf(e)){if(!(e instanceof _Components_Node_StartNode__WEBPACK_IMPORTED_MODULE_3__.a)){n.push(e);var a,s=e.gate,i=[],o=Object(_home_runner_work_logic_logic_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(s.inputs);try{for(o.s();!(a=o.n()).done;){var c=a.value.state.parentPin;c?i.push(t(c,n)):i.push(void 0)}}catch(l){o.e(l)}finally{o.f()}return s.name+"(["+i+"])["+e.index+"]"}for(var u=0;u<r.length;u++)if(e===r[u])return"i["+u+"]"}},u=[],l=Object(_home_runner_work_logic_logic_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(o);try{for(l.s();!(a=l.n()).done;){var f="(i) => "+c(a.value.state.parentPin,[]);u.push(f)}}catch(d){l.e(d)}finally{l.f()}return{name:e,inputs:r.length,outputs:o.length,functions:u,color:n}}function findReact(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object.keys(t).find((function(t){return t.startsWith("__reactFiber$")})),a=t[n];if(null==a)return null;for(var s=function(t){for(var e=t.return;"string"==typeof e.type;)e=e.return;return e},i=s(a),o=0;o<e;o++)i=s(i);return i.stateNode}function checkForCycle(t){for(var e=collectGates(t),n=new Array(e.length),a=new Array(e.length),s=0;s<e.length;s++)n[s]=!1,a[s]=!1;for(var i=0;i<e.length;i++)if(DFSutil(i,n,a,getChildGates(e[i])))return!0;return!1}function DFSutil(t,e,n,a){if(n[t])return!0;if(e[t])return!1;e[t]=!0,n[t]=!0;for(var s=0;s<a.length;s++)if(DFSutil(s,e,n,a))return!0;return n[t]=!1,!1}function collectGates(t){var e=[t];return function t(n){getChildGates(n).forEach((function(n){e.includes(n)||(e.push(n),t(n))}))}(t),e}function getChildGates(t){for(var e=[],n=0;n<t.outputs.length;n++)for(var a=t.outputs[n].state.childPins,s=0;s<a.length;s++)a[s]instanceof _Components_Node_EndNode__WEBPACK_IMPORTED_MODULE_2__.a||e.push(a[s].gate);return e}},function(t,e,n){t.exports={Application:"Application_Application__2wRsQ",Canvas:"Application_Canvas__35aVF",Board:"Application_Board__sFgm3",InputArea:"Application_InputArea__3XmUM",OutputArea:"Application_OutputArea__flxHC"}},,,function(t,e,n){"use strict";var a=n(8),s=n(1),i=n(2),o=n(4),r=n(3),c=n(19),u=n(0),l=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={childPins:[],value:void 0},a}return Object(i.a)(n,[{key:"connect",value:function(t){var e=this.state.childPins;e.push(t),this.setState({childPins:e})}},{key:"disconnect",value:function(t){var e=this.state.childPins,n=e.indexOf(t),s=Object(a.a)(e);s.splice(n,1),this.setState({childPins:s})}},{key:"receiveSignal",value:function(t){this.setState({value:t},(function(){for(var e=0;e<this.state.childPins.length;e++)this.state.childPins[e].receiveSignal(t)}))}},{key:"render",value:function(){var t=this;return Object(u.jsx)("button",{className:this.style.LogicGateOutput,onClick:function(){return t.props.setFocusedElement(t)},children:" "})}}]),n}(c.a);e.a=l},function(t,e,n){"use strict";var a=n(1),s=n(2),i=n(4),o=n(3),r=n(19),c=n(0),u=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).handleOnClick=function(t){if(0===t.button){var e=s.props.getFocusedElement();e&&s.changeParentPin(e)}else 1===t.button&&s.disconnect()},s.state={parentPin:void 0,value:void 0,recursion:!1},s}return Object(s.a)(n,[{key:"disconnect",value:function(){this.state.parentPin&&(this.state.parentPin.disconnect(this),this.setState({parentPin:void 0}),this.receiveSignal(void 0))}},{key:"changeParentPin",value:function(t){this.state.parentPin&&this.state.parentPin.disconnect(this),t.connect(this),this.setState({parentPin:t}),this.receiveSignal(t.state.value)}},{key:"receiveSignal",value:function(t){t!==this.state.value&&this.setState({value:t},(function(){this.gate.processOutput()}))}},{key:"render",value:function(){return Object(c.jsx)("button",{className:this.style.LogicGateInput,onMouseDown:this.handleOnClick})}}]),n}(r.a);e.a=u},function(t,e,n){t.exports={Node:"Node_Node__281H-",NodeUndefined:"Node_NodeUndefined__3Ozqf",NodeTrue:"Node_NodeTrue__3vLME",NodeFalse:"Node_NodeFalse__39hyq"}},function(t,e,n){"use strict";var a=n(1),s=n(2),i=n(4),o=n(3),r=n(5),c=n.n(r),u=n(13),l=n(14),f=n(6),d=n.n(f),p=n(0),h=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).style={backgroundColor:t.props.color},t}return Object(s.a)(n,[{key:"render",value:function(){for(var t=this,e=[],n=0;n<this.props.inputs;n++)e.push(Object(p.jsx)(l.a,{}));for(var a=[],s=0;s<this.props.outputs;s++)a.push(Object(p.jsx)(u.a,{}));return Object(p.jsxs)("div",{className:"".concat(d.a.LogicGate," ").concat(d.a.LogicGateDummy),style:this.style,onMouseDown:function(e){return t.props.addGate(e,{gateName:t.props.gateName,function:t.props.function,style:t.style,inputCount:t.props.inputs,outputCount:t.props.outputs})},children:[Object(p.jsx)("div",{className:d.a.LogicGateInputs,style:{pointerEvents:"none"},children:e}),Object(p.jsxs)("h5",{className:d.a.LogicGateValue,children:[" ",this.props.gateName," "]}),Object(p.jsx)("div",{className:d.a.LogicGateOutputs,style:{pointerEvents:"none"},children:a})]})}}]),n}(c.a.Component);e.a=h},,,function(t,e,n){"use strict";var a=n(1),s=n(2),i=n(4),o=n(3),r=n(5),c=n.n(r),u=n(6),l=n.n(u),f=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this)).style=l.a,s.index=t.index,s.gate=t.gate,s}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.mount&&this.props.mount(this)}}]),n}(c.a.Component);e.a=f},function(t,e,n){"use strict";var a=n(8),s=n(1),i=n(2),o=n(18),r=n(4),c=n(3),u=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={value:!1,childPins:[]},t.handleOnClick=function(e){0===e.button?t.props.setFocusedElement(Object(o.a)(t)):1===e.button&&t.toggleValue()},t}return Object(i.a)(n,[{key:"connect",value:function(t){var e=this.state.childPins;e.push(t),this.setState({childPins:e})}},{key:"disconnect",value:function(t){var e=this.state.childPins,n=e.indexOf(t),s=Object(a.a)(e);s.splice(n,1),this.setState({childPins:s})}},{key:"toggleValue",value:function(){var t=!this.state.value;this.setState({value:t},(function(){for(var e=0;e<this.state.childPins.length;e++)this.state.childPins[e].receiveSignal(t)}))}}]),n}(n(21).a);e.a=u},function(t,e,n){"use strict";var a=n(1),s=n(2),i=n(4),o=n(3),r=n(5),c=n.n(r),u=n(15),l=n.n(u),f=n(0),d=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"value",get:function(){return this.state.value}},{key:"render",value:function(){var t,e=this.state.value;t=void 0===e?l.a.NodeUndefined:e?l.a.NodeTrue:l.a.NodeFalse;var n=this.props.position+"px";return Object(f.jsx)("div",{className:"".concat(l.a.Node," ").concat(t),onMouseDown:this.handleOnClick,style:{top:n}})}}]),n}(c.a.Component);e.a=d},function(t,e,n){"use strict";var a=n(1),s=n(2),i=n(4),o=n(3),r=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={value:void 0,parentPin:void 0},t.handleOnClick=function(e){if(0===e.button){var n=t.props.getFocusedElement();n&&t.changeParentPin(n)}else 1===e.button&&t.disconnect()},t}return Object(s.a)(n,[{key:"disconnect",value:function(){this.state.parentPin&&(this.state.parentPin.disconnect(this),this.setState({parentPin:void 0}),this.receiveSignal(void 0))}},{key:"changeParentPin",value:function(t){this.state.parentPin&&this.state.parentPin.disconnect(this),t.connect(this),this.setState({parentPin:t}),this.receiveSignal(t.state.value)}},{key:"receiveSignal",value:function(t){this.setState({value:t})}}]),n}(n(21).a);e.a=r},function(t,e,n){t.exports={Menu:"Menu_Menu__2X7bN",Button:"Menu_Button__8Dt-Z"}},,,,function(t,e,n){"use strict";(function(t){var a=n(11),s=n(1),i=n(2),o=n(4),r=n(3),c=n(5),u=n.n(c),l=n(10),f=n.n(l),d=n(28),p=n(20),h=n(22),_=n(29),v=n(9),m=n(7),b=n(31),O=n(0);function g(t){return/^[A-Za-z][A-Za-z0-9]*$/.test(t)}var j=function(e){Object(o.a)(c,e);var n=Object(r.a)(c);function c(){var e;Object(s.a)(this,c);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).state={focusedElement:void 0,heldElement:void 0,heldElementOffset:[0,0],elements:{inputs:[],board:[],outputs:[]}},e.boardRef=u.a.createRef(),e.canvasRef=u.a.createRef(),e.controlRef=u.a.createRef(),e.setFocusedElement=function(t){e.setState({focusedElement:t})},e.getFocusedElement=function(){return e.state.focusedElement},e.addNode=function(t,n){if(t.target.classList.contains("Area")){var a=t.clientY-t.target.offsetTop-10,s=e.state.elements;"startNode"===n?s.inputs.push(Object(O.jsx)(p.a,{setFocusedElement:e.setFocusedElement,position:a})):s.outputs.push(Object(O.jsx)(h.a,{getFocusedElement:e.getFocusedElement,position:a})),e.setState({elements:s})}},e.addGate=function(t,n){var a,s=e.state.elements;s.board.push(Object(O.jsx)(d.a,{gateName:n.gateName,inputs:n.inputCount,outputs:n.outputCount,function:n.function,style:n.style,getFocusedElement:e.getFocusedElement,setFocusedElement:e.setFocusedElement,reference:function(t){return a=t}})),e.setState({elements:s},(function(){var e=t.clientX-t.target.offsetLeft,n=t.clientY-t.target.offsetTop;a.style.left=t.clientX-e+"px",a.style.top=t.clientY-n+"px",this.setState({heldElement:a,heldElementOffset:[e,n]})}))},e.saveGate=function(){do{var n=prompt("podaj nazw\u0119 dla tej bramki")}while(!g(n)||void 0!==t[n]);do{var a=prompt("podaj kolor")}while(""===a);var s,i=Object(v.b)(e.canvasRef,n,a);(s=null!==localStorage.getItem("savedGates")?JSON.parse(localStorage.getItem("savedGates")):[]).push(i),localStorage.setItem("savedGates",JSON.stringify(s)),e.controlPanelObject.addDummy(i)},e.clearCanvas=function(){e.setState({focusedElement:void 0,elements:{inputs:[],board:[],outputs:[]}})},e}return Object(i.a)(c,[{key:"componentDidMount",value:function(){var e;t.NOT=m.b,t.AND=m.a,t.OR=m.c,this.controlPanelObject=Object(v.a)(this.controlRef.current),e=null!==localStorage.getItem("savedGates")?JSON.parse(localStorage.getItem("savedGates")):[];var n,s=Object(a.a)(e);try{for(s.s();!(n=s.n()).done;){var i=n.value;this.controlPanelObject.addDummy(i)}}catch(o){s.e(o)}finally{s.f()}}},{key:"grab",value:function(t){var e=t.target;if(e.classList.contains("LogicGate")){this.setState({heldElement:e});var n=t.clientX-e.offsetLeft,a=t.clientY-e.offsetTop;this.setState({heldElementOffset:[n,a]})}}},{key:"move",value:function(t){if(this.state.heldElement){var e=this.state.heldElement,n=t.currentTarget,a=this.boardRef.current,s=t.clientX-this.state.heldElementOffset[0],i=t.clientY-this.state.heldElementOffset[1];s<a.offsetLeft?s=a.offsetLeft:s+e.offsetWidth>a.offsetWidth+a.offsetLeft&&(s=a.offsetWidth+a.offsetLeft-e.offsetWidth),i<n.offsetTop?i=n.offsetTop:i+e.offsetHeight>n.offsetHeight+n.offsetTop&&(i=n.offsetHeight+n.offsetTop-e.offsetHeight),e.style.left=s+"px",e.style.top=i+"px"}}},{key:"drop",value:function(){var t=this.state.heldElement;if(t){this.setState({heldElement:void 0});var e=this.boardRef.current;if(parseInt(t.style.top.split("px")[0])+t.offsetHeight>e.offsetHeight+e.offsetTop){var n=Object(v.a)(t);n.selfDestruct();var a=this.getFocusedElement();a&&a.gate===n&&this.setFocusedElement(void 0)}}}},{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:f.a.Application,onMouseDown:function(e){return t.grab(e)},onMouseMove:function(e){return t.move(e)},onMouseUp:function(){return t.drop()},children:[Object(O.jsx)(b.a,{functions:[this.saveGate,this.clearCanvas]}),Object(O.jsxs)("div",{className:f.a.Canvas,ref:function(e){return t.canvasRef=e},children:[Object(O.jsx)("div",{className:"Area ".concat(f.a.InputArea),onClick:function(e){return t.addNode(e,"startNode")},children:this.state.elements.inputs}),Object(O.jsx)("div",{className:f.a.Board,ref:this.boardRef,children:this.state.elements.board}),Object(O.jsx)("div",{className:"Area ".concat(f.a.OutputArea),onClick:function(e){return t.addNode(e,"endNode")},children:this.state.elements.outputs})]}),Object(O.jsx)(_.a,{addGate:this.addGate,reference:this.controlRef})]})}}]),c}(u.a.Component);e.a=j}).call(this,n(25))},function(t,e,n){"use strict";var a=n(1),s=n(2),i=n(4),o=n(3),r=n(5),c=n.n(r),u=n(13),l=n(14),f=n(6),d=n.n(f),p=n(0),h=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this)).mountPin=function(t){t instanceof l.a?s.inputs[t.index]=t:t instanceof u.a&&(s.outputs[t.index]=t)},s.name=t.gateName,s.func=t.function,s.state={value:void 0,render:!0},s.inputs=[],s.outputs=[],s}return Object(s.a)(n,[{key:"selfDestruct",value:function(){this.inputs.forEach((function(t){return t.disconnect()})),this.outputs.forEach((function(t){t.state.childPins.forEach((function(t){return t.disconnect()}))})),this.setState({render:!1})}},{key:"processOutput",value:function(){for(var t=Array.from(this.inputs.map((function(t){return t.state.value}))),e=this.func(t),n=0;n<e.length;n++)this.outputs[n].receiveSignal(e[n]);this.setState({value:e[0]})}},{key:"render",value:function(){if(!1===this.state.render)return null;var t=this.state.value;void 0===t&&(t="undefined");for(var e=[],n=0;n<this.props.inputs;n++)e.push(Object(p.jsx)(l.a,{index:n,gate:this,getFocusedElement:this.props.getFocusedElement,mount:this.mountPin}));for(var a=[],s=0;s<this.props.outputs;s++)a.push(Object(p.jsx)(u.a,{index:s,gate:this,getFocusedElement:this.props.getFocusedElement,setFocusedElement:this.props.setFocusedElement,mount:this.mountPin}));return Object(p.jsxs)("div",{className:"LogicGate ".concat(d.a.LogicGate),style:this.props.style,ref:this.props.reference,children:[Object(p.jsx)("div",{className:d.a.LogicGateInputs,children:e}),Object(p.jsxs)("h5",{className:d.a.LogicGateValue,children:[" ",t.toString()," "]}),Object(p.jsx)("div",{className:d.a.LogicGateOutputs,children:a})]})}}]),n}(c.a.Component);e.a=h},function(t,e,n){"use strict";(function(t){var a=n(1),s=n(2),i=n(4),o=n(3),r=n(30),c=n.n(r),u=n(16),l=n(9),f=n(7),d=n(5),p=n.n(d),h=n(0),_=function(e){Object(i.a)(r,e);var n=Object(o.a)(r);function r(e){var s;return Object(a.a)(this,r),(s=n.call(this)).addDummy=function(e){var n=s.state.dummies,a=Object(l.c)(e.functions);t[e.name]=a;var i=Object(h.jsx)(u.a,{gateName:e.name,function:a,color:e.color,inputs:e.inputs,outputs:e.outputs,addGate:s.props.addGate});n.push(i),s.setState({dummies:n})},s.state={dummies:[Object(h.jsx)(u.a,{gateName:"AND",function:f.a,color:"cornflowerblue",inputs:2,outputs:1,addGate:e.addGate}),Object(h.jsx)(u.a,{gateName:"NOT",function:f.b,color:"red",inputs:1,outputs:1,addGate:e.addGate}),Object(h.jsx)(u.a,{gateName:"OR",function:f.c,color:"chocolate",inputs:2,outputs:1,addGate:e.addGate})]},s}return Object(s.a)(r,[{key:"render",value:function(){return Object(h.jsx)("nav",{className:c.a.ControlPanel,ref:this.props.reference,children:this.state.dummies})}}]),r}(p.a.Component);e.a=_}).call(this,n(25))},function(t,e,n){t.exports={ControlPanel:"ControlPanel_ControlPanel__1H8pU"}},function(t,e,n){"use strict";var a=n(23),s=n.n(a),i=n(0),o=function(t){return Object(i.jsx)("button",{onClick:t.action,className:s.a.Button,children:t.text})};e.a=function(t){return Object(i.jsx)("div",{className:s.a.Menu,children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(o,{text:"zapisz bramk\u0119",action:function(){return t.functions[0]()}})}),Object(i.jsx)("li",{children:Object(i.jsx)(o,{text:"wyczy\u015b\u0107\xa0canvas",action:function(){return t.functions[1]()}})}),Object(i.jsx)("li",{children:Object(i.jsx)(o,{text:"przycisk 3",action:function(){return t.functions[2]()}})})]})})}},function(t,e,n){"use strict";n.r(e);var a=n(5),s=n.n(a),i=n(26),o=n.n(i),r=n(27),c=n(0);o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(r.a,{})}),document.getElementById("root"))}],[[32,1,2]]]);
//# sourceMappingURL=main.13ae530f.chunk.js.map