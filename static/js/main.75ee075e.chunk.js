(this["webpackJsonplogic-circuit-simulator"]=this["webpackJsonplogic-circuit-simulator"]||[]).push([[0],{1:function(t,e,n){t.exports={LogicGate:"LogicGate_LogicGate__1Cc_p",LogicGateDummy:"LogicGate_LogicGateDummy__19ubT",LogicGateAND:"LogicGate_LogicGateAND__77ers",LogicGateOR:"LogicGate_LogicGateOR__58ZlK",LogicGateNOT:"LogicGate_LogicGateNOT__1LoDZ",LogicGateInputs:"LogicGate_LogicGateInputs__oV9js",LogicGateOutputs:"LogicGate_LogicGateOutputs__3uRMQ",LogicGateValue:"LogicGate_LogicGateValue__3jkbZ"}},10:function(t,e,n){t.exports={Menu:"Menu_Menu__2X7bN",Button:"Menu_Button__8Dt-Z"}},14:function(t,e,n){t.exports={ControlPanel:"ControlPanel_ControlPanel__1H8pU"}},20:function(t,e,n){"use strict";n.r(e);var a=n(6),s=n.n(a),i=n(13),o=n.n(i),c=n(2),r=n(5),u=n(4),l=n(3),d=n(8),f=n.n(d),p=n(11),h=n(7),v=n(1),j=n.n(v),g=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this)).style=j.a,a.index=t.index,a.gate=t.gate,t.mount&&t.mount(Object(h.a)(a)),a}return n}(s.a.Component),O=n(0),b=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={childPins:[],value:void 0},a}return Object(r.a)(n,[{key:"connect",value:function(t){var e=this.state.childPins;e.push(t),this.setState({childPins:e})}},{key:"disconnect",value:function(t){var e=this.state.childPins,n=e.indexOf(t),a=Object(p.a)(e);a.splice(n,1),this.setState({childPins:a})}},{key:"receiveSignal",value:function(t){this.setState({value:t},(function(){for(var e=0;e<this.state.childPins.length;e++)this.state.childPins[e].receiveSignal(t)}))}},{key:"render",value:function(){var t=this;return Object(O.jsx)("button",{className:this.style.LogicGateOutput,onClick:function(){return t.props.setFocusedElement(t)},children:" "})}}]),n}(g),m=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).handleOnClick=function(t){if(0===t.button){var e=a.props.getFocusedElement();e&&a.changeParentPin(e)}else 1===t.button&&a.disconnect()},a.state={parentPin:void 0,value:void 0,recursion:!1},a}return Object(r.a)(n,[{key:"disconnect",value:function(){this.state.parentPin&&(this.state.parentPin.disconnect(this),this.setState({parentPin:void 0}),this.receiveSignal(void 0))}},{key:"changeParentPin",value:function(t){this.state.parentPin&&this.state.parentPin.disconnect(this),t.connect(this),this.setState({parentPin:t}),this.receiveSignal(t.state.value)}},{key:"receiveSignal",value:function(t){t!==this.state.value&&this.setState({value:t},(function(){this.gate.processOutput()}))}},{key:"render",value:function(){return Object(O.jsx)("button",{className:this.style.LogicGateInput,onMouseDown:this.handleOnClick})}}]),n}(g),y={AND:j.a.LogicGateAND,OR:j.a.LogicGateOR,NOT:j.a.LogicGateNOT},x={AND:function(t){return function(t){for(var e=!1,n=0;n<t.length;n++){if(!1===t[n])return[!1];void 0===t[n]&&(e=!0)}return e?[void 0]:[!0]}(t)},OR:function(t){return function(t){for(var e=!1,n=0;n<t.length;n++){if(!0===t[n])return[!0];void 0===t[n]&&(e=!0)}return e?[void 0]:[!1]}(t)},NOT:function(t){return[!t[0]]},TEST:function(t){return[t[1],t[0]]}},_=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a,s=Object.assign({},t);return Object(c.a)(this,n),(a=e.call(this)).mountPin=function(t){t instanceof m?a.inputs[t.index]=t:t instanceof b&&(a.outputs[t.index]=t)},a.func=x[s.gateType],a.state={value:void 0,render:!0},a.inputs=[],a.outputs=[],a}return Object(r.a)(n,[{key:"selfDestruct",value:function(){this.inputs.forEach((function(t){return t.disconnect()})),this.outputs.forEach((function(t){t.state.childPins.forEach((function(t){return t.disconnect()}))})),this.setState({render:!1})}},{key:"processOutput",value:function(){for(var t=Array.from(this.inputs.map((function(t){return t.state.value}))),e=this.func(t),n=0;n<e.length;n++)this.outputs[n].receiveSignal(e[n]);this.setState({value:e[0]})}},{key:"render",value:function(){if(!1===this.state.render)return null;var t=this.state.value;void 0===t&&(t="undefined");for(var e=y[this.props.gateType],n=[],a=0;a<this.props.inputs;a++)n.push(Object(O.jsx)(m,{index:a,gate:this,getFocusedElement:this.props.getFocusedElement,mount:this.mountPin}));for(var s=[],i=0;i<this.props.outputs;i++)s.push(Object(O.jsx)(b,{index:i,gate:this,getFocusedElement:this.props.getFocusedElement,setFocusedElement:this.props.setFocusedElement,mount:this.mountPin}));return Object(O.jsxs)("div",{className:"LogicGate ".concat(j.a.LogicGate," ").concat(e),ref:this.props.reference,children:[Object(O.jsx)("div",{className:j.a.LogicGateInputs,children:n}),Object(O.jsxs)("h5",{className:j.a.LogicGateValue,children:[" ",t.toString()," "]}),Object(O.jsx)("div",{className:j.a.LogicGateOutputs,children:s})]})}}]),n}(s.a.Component),N=n(9),G=n.n(N),L=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"value",get:function(){return this.state.value}},{key:"render",value:function(){var t,e=this.state.value;t=void 0===e?G.a.NodeUndefined:e?G.a.NodeTrue:G.a.NodeFalse;var n=this.props.position+"px";return Object(O.jsx)("div",{className:"".concat(G.a.Node," ").concat(t),onMouseDown:this.handleOnClick,style:{top:n}})}}]),n}(s.a.Component),E=L,P=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={value:!1,childPins:[]},t.handleOnClick=function(e){0===e.button?t.props.setFocusedElement(Object(h.a)(t)):1===e.button&&t.toggleValue()},t}return Object(r.a)(n,[{key:"connect",value:function(t){var e=this.state.childPins;e.push(t),this.setState({childPins:e})}},{key:"disconnect",value:function(t){var e=this.state.childPins,n=e.indexOf(t),a=Object(p.a)(e);a.splice(n,1),this.setState({childPins:a})}},{key:"toggleValue",value:function(){var t=!this.state.value;this.setState({value:t},(function(){for(var e=0;e<this.state.childPins.length;e++)this.state.childPins[e].receiveSignal(t)}))}}]),n}(E),k=P,T=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={value:void 0,parentPin:void 0},t.handleOnClick=function(e){if(0===e.button){var n=t.props.getFocusedElement();n&&t.changeParentPin(n)}else 1===e.button&&t.disconnect()},t}return Object(r.a)(n,[{key:"disconnect",value:function(){this.state.parentPin&&(this.state.parentPin.disconnect(this),this.setState({parentPin:void 0}),this.receiveSignal(void 0))}},{key:"changeParentPin",value:function(t){this.state.parentPin&&this.state.parentPin.disconnect(this),t.connect(this),this.setState({parentPin:t}),this.receiveSignal(t.state.value)}},{key:"receiveSignal",value:function(t){this.setState({value:t})}}]),n}(E),S=T,A=n(14),C=n.n(A),F={AND:j.a.LogicGateAND,OR:j.a.LogicGateOR,NOT:j.a.LogicGateNOT},D=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).style=F[t.props.gateType],t}return Object(r.a)(n,[{key:"render",value:function(){for(var t=this,e=[],n=0;n<this.props.inputs;n++)e.push(Object(O.jsx)(m,{}));for(var a=[],s=0;s<this.props.outputs;s++)a.push(Object(O.jsx)(b,{}));return Object(O.jsxs)("div",{className:"".concat(j.a.LogicGate," ").concat(this.style," ").concat(j.a.LogicGateDummy),onMouseDown:function(e){return t.props.addGate(e,{gateLogic:t.props.gateType,inputCount:t.props.inputs,outputCount:t.props.outputs})},children:[Object(O.jsx)("div",{className:j.a.LogicGateInputs,style:{pointerEvents:"none"},children:e}),Object(O.jsxs)("h5",{className:j.a.LogicGateValue,children:[" ",this.props.gateType," "]}),Object(O.jsx)("div",{className:j.a.LogicGateOutputs,style:{pointerEvents:"none"},children:a})]})}}]),n}(s.a.Component),M=D,R=function(t){return Object(O.jsxs)("nav",{className:C.a.ControlPanel,children:[Object(O.jsx)(M,{gateType:"AND",inputs:2,outputs:1,addGate:t.addGate}),Object(O.jsx)(M,{gateType:"OR",inputs:2,outputs:1,addGate:t.addGate}),Object(O.jsx)(M,{gateType:"NOT",inputs:1,outputs:1,addGate:t.addGate}),Object(O.jsx)(M,{gateType:"TEST",inputs:2,outputs:2,addGate:t.addGate}),Object(O.jsx)(M,{gateType:"OR",inputs:3,outputs:1,addGate:t.addGate})]})};var w=n(10),I=n.n(w),H=function(t){return Object(O.jsx)("button",{onClick:t.action,className:I.a.Button,children:t.text})},V=function(t){return Object(O.jsx)("div",{className:I.a.Menu,children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(H,{text:"przycisk 1",action:function(){return console.log("przycisk 1")}})}),Object(O.jsx)("li",{children:Object(O.jsx)(H,{text:"przycisk 2"})}),Object(O.jsx)("li",{children:Object(O.jsx)(H,{text:"przycisk 3"})})]})})},B=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={focusedElement:void 0,heldElement:void 0,heldElementOffset:[0,0],elements:{inputs:[],board:[],outputs:[]}},t.boardRef=s.a.createRef(),t.setFocusedElement=function(e){t.setState({focusedElement:e})},t.getFocusedElement=function(){return t.state.focusedElement},t.addNode=function(e,n){if(e.target.classList.contains("Area")){var a=e.clientY-e.target.offsetTop-10,s=t.state.elements;"startNode"===n?s.inputs.push(Object(O.jsx)(k,{setFocusedElement:t.setFocusedElement,position:a})):s.outputs.push(Object(O.jsx)(S,{getFocusedElement:t.getFocusedElement,position:a})),t.setState({elements:s})}},t.addGate=function(e,n){var a,s=t.state.elements;s.board.push(Object(O.jsx)(_,{gateType:n.gateLogic,inputs:n.inputCount,outputs:n.outputCount,getFocusedElement:t.getFocusedElement,setFocusedElement:t.setFocusedElement,reference:function(t){return a=t}})),t.setState({elements:s},(function(){var t=e.clientX-e.target.offsetLeft,n=e.clientY-e.target.offsetTop;a.style.left=e.clientX-t+"px",a.style.top=e.clientY-n+"px",this.setState({heldElement:a,heldElementOffset:[t,n]})}))},t}return Object(r.a)(n,[{key:"grab",value:function(t){var e=t.target;if(e.classList.contains("LogicGate")){this.setState({heldElement:e});var n=t.clientX-e.offsetLeft,a=t.clientY-e.offsetTop;this.setState({heldElementOffset:[n,a]})}}},{key:"move",value:function(t){if(this.state.heldElement){var e=this.state.heldElement,n=t.currentTarget,a=this.boardRef.current,s=t.clientX-this.state.heldElementOffset[0],i=t.clientY-this.state.heldElementOffset[1];s<a.offsetLeft?s=a.offsetLeft:s+e.offsetWidth>a.offsetWidth+a.offsetLeft&&(s=a.offsetWidth+a.offsetLeft-e.offsetWidth),i<n.offsetTop?i=n.offsetTop:i+e.offsetHeight>n.offsetHeight+n.offsetTop&&(i=n.offsetHeight+n.offsetTop-e.offsetHeight),e.style.left=s+"px",e.style.top=i+"px"}}},{key:"drop",value:function(){var t=this.state.heldElement;if(t){this.setState({heldElement:void 0});var e=this.boardRef.current;if(parseInt(t.style.top.split("px")[0])+t.offsetHeight>e.offsetHeight+e.offsetTop){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object.keys(t).find((function(t){return t.startsWith("__reactFiber$")})),a=t[n];if(null==a)return null;for(var s=function(t){for(var e=t.return;"string"==typeof e.type;)e=e.return;return e},i=s(a),o=0;o<e;o++)i=s(i);return i.stateNode}(t);n.selfDestruct&&n.selfDestruct()}}}},{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:f.a.Application,onMouseDown:function(e){return t.grab(e)},onMouseMove:function(e){return t.move(e)},onMouseUp:function(){return t.drop()},children:[Object(O.jsx)(V,{}),Object(O.jsxs)("div",{className:f.a.Canvas,children:[Object(O.jsx)("div",{className:"Area ".concat(f.a.InputArea),onClick:function(e){return t.addNode(e,"startNode")},children:this.state.elements.inputs}),Object(O.jsx)("div",{className:f.a.Board,ref:this.boardRef,children:this.state.elements.board}),Object(O.jsx)("div",{className:"Area ".concat(f.a.OutputArea),onClick:function(e){return t.addNode(e,"endNode")},children:this.state.elements.outputs})]}),Object(O.jsx)(R,{addGate:this.addGate})]})}}]),n}(s.a.Component),U=B;o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={Application:"Application_Application__2wRsQ",Canvas:"Application_Canvas__35aVF",Board:"Application_Board__sFgm3",InputArea:"Application_InputArea__3XmUM",OutputArea:"Application_OutputArea__flxHC"}},9:function(t,e,n){t.exports={Node:"Node_Node__281H-",NodeUndefined:"Node_NodeUndefined__3Ozqf",NodeTrue:"Node_NodeTrue__3vLME",NodeFalse:"Node_NodeFalse__39hyq"}}},[[20,1,2]]]);
//# sourceMappingURL=main.75ee075e.chunk.js.map